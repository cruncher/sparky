Object.assign||function(a){"use strict";function b(a){return void 0!==a&&null!==a}function c(b){var c,d,e,f=a.keys(b);if(a.getOwnPropertySymbols)for(c=a.getOwnPropertySymbols(b),d=c.length;d--;)e=a.getOwnPropertyDescriptor(b,c[d]),e.enumerable&&f.push(symbol);return f}a.defineProperty(a,"assign",{value:function(d){if(!b(d))throw new TypeError("Object.assign: First argument "+d+" cannot be converted to object.");var e,f,g,h,i,j=a(d);for(e=1;e<arguments.length;e++)if(f=arguments[e],b(f))for(g=c(a(f)),i=g.length;i--;)h=g[i],j[h]=f[h];return j},configurable:!0,writable:!0})}(Object),Number.isNaN||!function(a){"use strict";Object.defineProperty(Number,"isNaN",{value:function(b){return"number"==typeof b&&a(b)},configurable:!0,enumerable:!1,writable:!0})}(isNaN),Math.log10||(Math.log10=function(a){return Math.log(a)/Math.LN10}),function(a,b){a.CustomEvent&&"function"==typeof a.CustomEvent||(a.CustomEvent=function(a,c){c=c||{bubbles:!1,cancelable:!1,detail:b};var d=document.createEvent("CustomEvent");return d.initCustomEvent(a,c.bubbles,c.cancelable,c.detail),d},a.CustomEvent.prototype=a.Event.prototype)}(window),function(a){for(var b=40,c=["ms","moz","webkit","o"],d=c.length;d--&&!a.requestAnimationFrame;)a.requestAnimationFrame=a[c[d]+"RequestAnimationFrame"],a.cancelAnimationFrame=a[c[d]+"CancelAnimationFrame"]||a[c[d]+"CancelRequestAnimationFrame"];a.requestAnimationFrame||(a.requestAnimationFrame=function(c,d){var e=+new Date,f=b-e%b,g=a.setTimeout(function(){c(f)},f);return g}),a.cancelAnimationFrame||(a.cancelAnimationFrame=function(a){clearTimeout(a)})}(window),function(a){"use strict";function b(){}function c(){return this}function d(a){return void 0!==a&&null!==a}function e(a,b){for(var c=a.index,d=-1,e=a.length;++d<e;)if(a[d][c]===b)return a[d]}function f(a,b,c){c=c||Object.keys(b);for(var d,e=c.length;e--;)if(d=c[e],a[d]!==b[d]&&!("function"==typeof b[d]&&b[d](a,d)||b[d]instanceof RegExp&&b[d].test(a[d])))return!1;return!0}function g(a,b){var c=Object.keys(b);return 0===c.length?a.slice():a.filter(function(a){return f(a,b,c)})}function h(a,b){Array.prototype.push.call(a,b),a.trigger("add",b)}function i(a,b,c){for(var d=Array.prototype.splice.call.apply(Array.prototype.splice,arguments),e=d.length,f=Array.prototype.slice.call(arguments,3),g=f.length,h=-1;e--;)a.trigger("remove",d[e],b+e);for(;++h<g;)a.trigger("add",f[h],h);return d}function j(a,b){var c=a.index;if(!d(b[c]))return void(-1===a.indexOf(b)&&h(a,b));for(var e=a.length;a[--e]&&(a[e][c]>b[c]||!d(a[e][c])););i(a,e+1,0,b)}function k(a,b,c){for(void 0===c&&(c=-1);++c<a.length;)(b===a[c]||b===a[c][a.index])&&(i(a,c,1),--c)}function l(a,b){var c=a.find(b);c?(w(c,b),a.trigger("update",c)):j(a,b)}function m(a,b,c){for(var d=c.length,e=-1;++e<d;)a.call(null,b,c[e])}function o(a){return function(){var b=arguments.length,c=a[b]||a["default"];return c?c.apply(this,arguments):(console.warn("Collection: method is not overloaded to accept "+b+" arguments."),this)}}function p(a){return r.prototype.isPrototypeOf(a)||s.prototype.isPrototypeOf(a)}function q(a){var b=a.length;return function(){for(var c;b-->a.length;)c=a[b],void 0!==c&&(delete a[b],a.trigger("remove",c,b));b=a.length}}function r(b,c){function e(a,b){return a[f.index]>b[f.index]?1:-1}if(void 0===this||this===a)return new r(b,c);void 0===b?b=[]:d(b.length)||(c=b,b=[]);var f=this,g=w({},x,c);Object.defineProperties(f,{length:{value:0,writable:!0,configurable:!0},index:{value:g.index},sort:{value:function(a){return Array.prototype.sort.call(this,a||g.sort||e)}}}),w(f,b),f.length=b.length,t(f,"length",q(f))}function s(a,b,c){function d(b,c){var d=a.indexOf(b),e=a.indexOf(c);return d>e?1:-1}function e(c){var e=o.indexOf(c);if(n=!1,f(c,b,m)){if(-1===e){if(l.sort===d){for(var g,h,i=a.indexOf(c),k=i;k--&&(g=a[k],h=o.indexOf(g),!(h>-1&&i>h)););o.splice(h+1,0,c)}else o.add(c);o.on("add",j)}}else-1!==e&&o.remove(c);n=!0}function g(a,b){for(var c,d=m.length;d--;)c=m[d],t(b,c,e);e(b)}function h(a,b){for(var c,d=m.length;d--;)c=m[d],u(b,c,e);var f=o.indexOf(b);f>-1&&(n=!1,o.splice(f,1),n=!0)}function i(a){a.forEach(function(b){
h(a,b)}),o.off("add",j).off("remove",k)}function j(b,c){n&&a.add(c)}function k(b,c){n&&a.remove(c)}var l=w({sort:d},c),m=Object.keys(b),n=!0,o=this;r.call(this,l),a.on("add",g).on("remove",h).on("destroy",i),a.length?a.forEach(function(b){g(a,b)}):o.on("add",j).on("remove",k),o.destroy=function(){i(a),a.off("add",g).off("remove",h).off("destroy",i),o.off()},this.synchronise=function(){this.forEach(e)}}var t=a.observe,u=a.unobserve,v=a.mixin,w=Object.assign,x={index:"id"};w(r.prototype,v.events,{filter:Array.prototype.filter,map:Array.prototype.map,reduce:Array.prototype.reduce,concat:Array.prototype.concat,sort:Array.prototype.sort,slice:Array.prototype.slice,some:Array.prototype.some,indexOf:Array.prototype.indexOf,forEach:Array.prototype.forEach,each:function(){return Array.prototype.forEach.apply(this,arguments),this},add:o({0:c,"default":function(){return m(j,this,arguments),this}}),remove:o({0:function(){for(;this.length;)this.pop();return this},"default":function(){return m(k,this,arguments),this}}),push:function(){return m(h,this,arguments),this},pop:function(){var a=this[this.length-1];return--this.length,a},splice:function(){return Array.prototype.unshift.call(arguments,this),i.apply(this,arguments)},update:function(){return m(l,this,arguments),this},find:o({0:b,1:function(a){if(this.indexOf(a)>-1)return a;var b=this.index;return"string"==typeof a||"number"==typeof a||void 0===a?e(this,a):e(this,a[b])}}),query:function(a){return a?g(this,a):[]},contains:function(a){return-1!==this.indexOf(a)},get:function(a){var b=this.length;if(0!==b){for(;--b;)if(this[b][a]!==this[b-1][a])return;return this[b][a]}},set:function(a,b){if(2!==arguments.length)throw new Error("Collection.set(property, value) requires 2 arguments. "+arguments.length+" given.");for(var c=this.length;c--;)this[c][a]=b;return this},toJSON:function(){return Array.prototype.slice.apply(this)},toObject:function(a){a=a||this.index;for(var b,c,d={};n--;)b=this[n][a],c=typeof b,"string"===c||"number"===c&&b>-(1/0)&&1/0>b?d[b]=this[n]:console.warn("Collection: toObject() "+typeof b+" "+b+" cannot be used as a key.");return d},sub:function(a,b){return new s(this,a,b)}}),w(s.prototype,r.prototype),r.add=j,r.remove=k,r.isCollection=p,a.Collection=r}(this),function(a){"use strict";function b(a){return["<",x.dom.tag(a),a.getAttribute("data-fn")?' data-fn="'+a.getAttribute("data-fn")+'"':"",a.getAttribute("data-scope")?' data-scope="'+a.getAttribute("data-scope")+'"':"",a.id?' id="'+a.id+'"':"",">"].join("")}function c(){if(x.debug){var a=["Sparky:"];Array.prototype.push.apply(a,arguments),console.log.apply(console,a)}}function d(){if("verbose"===x.debug){var a=["Sparky:"];Array.prototype.push.apply(a,arguments),console.log.apply(console,a)}}function e(){}function f(){return this}function g(a){return a}function h(a){return void 0!==a&&null!==a&&!Number.isNaN(a)}function i(a){return(/\[object\s(\w+)\]/.exec(Object.prototype.toString.apply(a))||[])[1]}function j(a){return"string"==typeof a?x.template(a)||document.getElementById(a):a}function k(a,b,c,d,e){if(!a.getAttribute)return e(b);var f=a.getAttribute("data-scope");if(!h(f))return e(b);x.rtags.lastIndex=0;var g=x.rtags.exec(f);return g?f=g[2]:b=c,b&&f?d(b,f):e(b)}function l(a,b,c){return"string"==typeof b?o(b,c):"function"==typeof b?m([b]):"object"==typeof b?m(b):a.getAttribute&&o(a.getAttribute("data-fn"),c)}function m(a){return function(b,c){var d,e=a.length,f=-1,g=c;for(this.ctrls=a;++f<e;){if(d=a[f].call(this,b,g),d===!1)return d;void 0!==d&&(g=d)}return g}}function n(a,b){for(var c,d=[],e=a.length,f=-1;++f<e;){if(c=x.get(b,a[f]),!c)throw new Error('Sparky: data-fn "'+a[f]+'" not found in sparky.ctrl');d.push(c)}return m(d)}function o(a,b){if(h(a)){var c=a.trim().split(x.rspaces);return n(c,b)}}function p(a,b,c){var d=x.debug?x.dom.create("comment",x.dom.tag(a)):x.dom.create("text","");return x.dom.before(a,d),x.dom.remove(a),d}function q(a,b,c){var d=c.placeholders[b];x.dom.before(d,a),x.dom.remove(d)}function r(a,b,c,d){for(var e,f,g,h=c.length;h--;)e=c[h][0],f=c[h][1],g=c[h][2],x.observePath(b,e,g,!d),d&&f(x.get(b,e));
}function s(a,b,c){for(var d,e,f,g=c.length;g--;)d=c[g][0],e=c[g][1],f=c[g][2],x.unobservePath(b,d,f),f.cancel()}function t(a,b,c,d,e){r(a,b,c,e);for(var f=d.length;f--;)d[f].scope(b)}function u(a,b,c,d){s(a,b,c);for(var e=d.length;e--;)d[e].scope()}function v(a){a.placeholders&&(a.forEach(q),a.placeholders=!1,a.trigger("dom-add"))}function w(a){a.placeholders||(a.placeholders=a.map(p),a.trigger("dom-remove"))}function x(a,d,f,g){function h(a){return d&&x.get(d,a)}function i(a,b){d&&x.set(d,a,b)}function m(a){z.push(a)}function n(a,b){r.push([a,b,x.Throttle(b)])}function o(a){var b=G||a;if(!C){if(b===d)return;d&&u(q,d,r,y)}d=b,d?(t(q,d,r,y,C),C?v(q):E(q)):C?w(q):F(q),q.trigger("scope",d),C=!1}function p(a,b){D(),D=function(){x.unobservePath(a,b,o)},x.observePath(a,b,o,!0)}if(!(this instanceof x))return new x(a,d,f,g);x.logVerbose("Sparky(","string"==typeof a?a:b(a),",",d&&"{}",",",f&&(f.name||"anonymous"),")");var q=this,r=[],y=[],z=[],A=g?g.data:x.data,B=g?g.fn:x.fn,C=!0,D=e,E=x.Throttle(v),F=x.Throttle(w);if(a=j(a),!a)throw new Error("Sparky: Sparky(node) called, node not found: "+a);f=l(a,f,B),Object.defineProperties(this,{data:{value:Object.create(A),writable:!0},fn:{value:Object.create(B)},placeholders:{writable:!0}}),this.scope=function(b){return k(a,b,g?g.data:x.data,p,o),this},Collection.call(this,11===a.nodeType?a.childNodes:[a]);var G;if(k(a,d,g?g.data:x.data,function(a,b){G=x.get(a,b)},function(a){G=a}),G=f&&f.call(q,a,G),G===d&&(G=void 0),G===!1)return this.on("destroy",function(){x.dom.remove(this),D()}).scope(d);var H=x.parse(q,h,i,n,e,m);this.on("destroy",function(){x.dom.remove(this),this.placeholders&&x.dom.remove(this.placeholders),H(),D(),s(this,d,r)}).scope(d),y=z.map(function(a){return q.create(a,d)}),0===r.length&&0===y.length&&c("No Sparky tags found",q)}var y=Object.assign;x.prototype=Object.create(Collection.prototype),y(x.prototype,{create:function(a,b,c){var d=this,e=x(a,b,c,this);return this.on(e),e.on("destroy",function(){d.off(e)})},destroy:function(){return this.trigger("destroy").off()},scope:f,tojQuery:function(){return a.jQuery?jQuery(this.filter(x.dom.isElement)):void 0}}),y(x,{debug:!1,log:c,logVerbose:d,noop:e,returnThis:f,returnArg:g,isDefined:h,classOf:i,svgNamespace:"http://www.w3.org/2000/svg",xlinkNamespace:"http://www.w3.org/1999/xlink",data:{},fn:{},template:function(){return x.dom.fragmentFromTemplate.apply(this,arguments)}}),a.Sparky=x}(this),function(a){"use strict";function b(a,b,c){this.node=a,this.get=b,this.set=c}function c(a){return a.getAttribute("class")}function d(a,b){a instanceof SVGElement?a.setAttribute("class",b):a.className=b}function e(a){return a.classList||new b(a,c,d)}function f(a,b){return window.getComputedStyle?window.getComputedStyle(a,null).getPropertyValue(b):0}function g(a,b){return a.matches?a.matches(b):a.matchesSelector?a.matchesSelector(b):a.webkitMatchesSelector?a.webkitMatchesSelector(b):a.mozMatchesSelector?a.mozMatchesSelector(b):a.msMatchesSelector?a.msMatchesSelector(b):a.oMatchesSelector?a.oMatchesSelector(b):a.tagName.toLowerCase()===b}function h(a,b,c){return a&&a!==c&&a!==document&&11!==a.nodeType?(a.correspondingUseElement&&(a=a.correspondingUseElement),g(a,b)?a:h(a.parentNode,b,c)):void 0}function i(a){return a.tagName.toLowerCase()}function j(a){if("comment"===a||"!"===a)return document.createComment(arguments[1]);if("text"===a)return document.createTextNode(arguments[1]);if("fragment"===a)return document.createDocumentFragment();var b=document.createElement(a);return b.innerHTML=arguments[1],b}function k(a,b){return a.appendChild(b),a}function l(a){for(;a.lastChild;)a.removeChild(a.lastChild)}function m(a){a.parentNode&&a.parentNode.removeChild(a)}function n(a,b){a.parentNode&&a.parentNode.insertBefore(b,a)}function o(a,b){a.parentNode&&a.parentNode.insertBefore(b,a.nextSibling)}function p(a,b){return 1===arguments.length&&"string"==typeof a&&(b=a,a=document),H(a.querySelectorAll(b))}function q(a){return 1===a.nodeType}function r(a){return 3===a.nodeType}function s(a){return 8===a.nodeType}function t(a){return 11===a.nodeType}function u(a){
var b=H(a.childNodes),c=document.createDocumentFragment();return I(b,k,c)}function v(a){return a.content||u(a)}function w(a){var b=document.getElementById(a);if(!b)throw new Error('dom: element id="'+a+'" is not in the DOM.');return b.content?v(b):(m(b),v(b))}function x(a){var b=K[a]||(K[a]=w(a));return b&&b.cloneNode(!0)}function y(a){return new CustomEvent(a,M)}function z(a,b){return function(c){var d=h(c.target,a,c.currentTarget);if(d)return c.delegateTarget=d,b(c)}}function A(a){return 1===a.which&&!a.ctrlKey&&!a.altKey}function B(a,b){var c=L[b]||(L[b]=y(b));a.dispatchEvent(c)}function C(a,b,c){a.addEventListener(b,c)}function D(a,b,c){a.removeEventListener(b,c)}function E(){return"content"in document.createElement("template")}function F(){var a=document.createElement("input"),b=!1;return k(document.body,a),a.disabled=!0,a.addEventListener("featuretest",function(a){b=!0}),a.dispatchEvent(N),J.remove(a),b}var G=Object.assign,H=Function.prototype.call.bind(Array.prototype.slice),I=Function.prototype.call.bind(Array.prototype.reduce),J={};b.prototype={add:function(){for(var b=arguments.length,c=this.get(this.node),d=c?c.trim().split(a.rspaces):[];b--;)-1===d.indexOf(arguments[b])&&d.push(arguments[b]);this.set(this.node,d.join(" "))},remove:function(){for(var b,c=arguments.length,d=this.get(this.node),e=d?d.trim().split(a.rspaces):[];c--;)b=e.indexOf(arguments[c]),-1!==b&&e.splice(b,1);this.set(this.node,e.join(" "))}},G(J,{query:p,tag:i,create:j,append:function(a,b){Node.prototype.isPrototypeOf(b)?k(a,b):Array.prototype.forEach.call(b,function(b){k(a,b)})},after:o,before:n,empty:l,remove:function(a){return Node.prototype.isPrototypeOf(a)?void m(a):void Array.prototype.forEach.call(a,m)},closest:h,matches:g,classes:e,style:f,getClass:c,setClass:d,isElementNode:q,isTextNode:r,isCommentNode:s,isFragmentNode:t});var K={};G(J,{fragmentFromTemplate:x,fragmentFromContent:v});var L={},M={bubbles:!0};G(J,{on:C,off:D,trigger:B,delegate:z,isPrimaryButton:A});var N=new CustomEvent("featuretest",{bubbles:!0});J.features={template:E(),inputEventsOnDisabled:F()},a.dom=J}(window.Sparky),function(a){"use strict";function b(){}function c(a){return void 0!==a&&null!==a}function d(a){return a instanceof Object}function e(a){return a.replace(t,"").split(u)}function f(a,b){var d=b.shift(),e=a[d];return 0===b.length?e:c(e)?f(e,b):e}function g(a,b,c){var e=b[0];return b.length>1?g(d(a[e])?a[e]:a[e]={},b.slice(1),c):a[e]=c}function h(b,c,d,e,f){function g(){a.logVerbose("path resolved to value:",b[c]),e(b[c])}return a.observe(b,c,g,f),function(){a.unobserve(b,c,g)}}function i(c,d,e,f,g){function h(){var a=c[d];i(),"object"!=typeof a&&"function"!=typeof a?(i=b,g&&f()):i=j(a,e.slice(),f,g)}var i=b;return a.observe(c,d,h,!0),g=!0,function(){i(),a.unobserve(c,d,h)}}function j(a,c,d,e){if(0===c.length)return b;var f=c.shift();return 0===c.length?h(a,f,c,d,e):i(a,f,c,d,e)}function k(a,b,c,d){var f=e(b),g=j(a,f,c,d||!1);v.push([a,b,c,g])}function l(a,b,d){function g(e){l||c(e)&&(l=!0,d(e),setTimeout(function(){m(a,b,d)},0))}var h=e(b),i=f(a,h.slice());if(c(i))return void d(i);var k=j(a,h,g,!1),l=!1;v.push([a,b,d,k])}function m(a,b,c){var d,e=v.length;for("string"!=typeof b&&(c=b,b=void 0);e--;)d=v[e],a!==d[0]||b&&b!==d[1]||c&&c!==d[2]||(d[3](),v.splice(e,1))}function n(a,b){return"."===b?a:f(a,e(b))}function o(a,b,c){var d=e(b);return 1===d.length?a[b]=c:g(a,d,c)}function p(a){return window.AudioParam&&window.AudioParam.prototype.isPrototypeOf(a)}function q(a,b,c){function d(){var e=a[b];f!==e&&(f=e,c()),g&&window.requestAnimationFrame(d)}function e(){g=!1}var f=a[b],g=!0;return window.requestAnimationFrame(d),e}function r(a,b,c){return w.push([a,b,c,q(a,b,c)]),a}function s(a,b,c){for(var d,e=w.length;e--;)if(d=w[e],a===d[0]&&b===d[1]&&c===d[2])return d[3](),w.splice(e,1),a;return a}var t=/^\[|]$/g,u=/\]?\.|\[/g,v=[];a.get=n,a.set=o,a.observePath=k,a.unobservePath=m,a.observePathOnce=l;var w=[];!function(a){a.observe=function(a,b,c,d){if(p(a))return r(a,b,c);if("length"===b){var e=Object.getOwnPropertyDescriptor(a,b);if(!e.get&&!e.configurable)return console.warn&&console.warn("Sparky: Are you trying to observe an array?. Sparky is going to observe it by polling. You may want to use a Collection() to avoid this.",a,a instanceof Array),
console.trace&&console.trace(),r(a,b,c)}observe(a,b,c),d&&c(a)},a.unobserve=function(a,b,c){if(p(a))return s(a,b,c);if("length"===b){var d=Object.getOwnPropertyDescriptor(a,b);if(!d.get&&!d.configurable)return s(a,b,c)}return unobserve(a,b,c)}}(a)}(Sparky),function(){"use strict";function a(){}function b(b){function c(){g=!1,b.apply(h,i)}function d(){e=a,g&&c(),b=a}function e(){g||(window.requestAnimationFrame(c),g=!0)}function f(){h=this,i=arguments,e()}var g,h,i;return f.cancel=d,f}Sparky.Throttle=b}(Sparky),function(a){"use strict";function b(a){a()}function c(a,b,c){(b="d")?a.setAttribute(b,c):a.setAttributeNS(K.xlink,b,c)}function d(a,b,c){a.setAttribute(b,c)}function e(a,b){var c=b.trim().split(Q);a.add.apply(a,c)}function f(a,b){var c=b.trim().split(Q);a.remove.apply(a,c)}function g(a,b,c,d,e,f){var g=[],h=a.tagName.toLowerCase();return"verbose"===K.debug&&console.group("Sparky: dom node: ",a),k(a,b,c,d,g),l(a,b,c,d,g,M),_[h]?_[h](a,b,c,d,e,f,g):j(a,b,c,d,e,f,g),"verbose"===K.debug&&console.groupEnd(),g}function h(a,b,c,d,e,f){var g=[];return"verbose"===K.debug&&console.group("Sparky: text node:",a),s(a.nodeValue,b,c,d,function(b){a.nodeValue=b},g),"verbose"===K.debug&&console.groupEnd(),g}function i(a,b,c,d,e,f){var g=[];return"verbose"===K.debug&&console.group("Sparky: fragment: ",a),j(a,b,c,d,e,f,g),"verbose"===K.debug&&console.groupEnd(),g}function j(b,c,d,e,f,g,h){var i,j,k=b.getAttribute&&b.getAttribute("data-template");if(X(k)){if(i=K.template(k),!i)return void K.log('template "'+k+'" not found in DOM.');j=Z(i.childNodes),a.requestAnimationFrame(function(){K.dom.empty(b),K.dom.append(b,i)})}else j=Z(b.childNodes);for(var l,d,m=-1,n=j.length;++m<n;)l=j[m],l.getAttribute&&(X(l.getAttribute("data-fn"))||X(l.getAttribute("data-scope")))?g(l):$[l.nodeType]&&h.push.apply(h,$[l.nodeType](l,c,d,e,f,g))}function k(a,b,c,d,g){var h=L.getClass(a);if(h){K.rclasstags.lastIndex=0;var i=[],j=h.replace(K.rclasstags,function(a){return i.push(a),""});if(i.length){L.setClass(a,j);var k=L.classes(a),l=function(a,b){b&&R.test(b)&&f(k,b),a&&R.test(a)&&e(k,a)};"verbose"===K.debug&&console.log('Sparky: bind class="'+h+" "+i.join(" ")+'"'),s(i.join(" "),b,c,d,l,g)}}}function l(a,b,c,d,e,f){for(var g=f.length;g--;)m(a,f[g],b,c,d,e)}function m(a,b,e,f,g,h){var i=a instanceof SVGElement,j=a.getAttribute("data-"+b),k=j?j:i?a.getAttributeNS(K.xlink,b)||a.getAttribute(b):a.getAttribute(b);if(k){j&&a.removeAttribute("data-"+b),"verbose"===K.debug&&console.log("Sparky: checking "+b+'="'+k+'"');var l=i?c.bind(this,a,b):d.bind(this,a,b);s(k,e,f,g,l,h)}}function n(a){var b=P.exec(a);return{name:b[1],fn:K.filters[b[1]],args:b[2]&&JSON.parse('["",'+b[2].replace(/\'/g,'"')+"]")||[]}}function o(a,b){for(var c,d=T[b]||(T[b]=b.split("|").map(n)),e=d.length,f=-1;++f<e;){if(!d[f].fn)throw new Error("Sparky: filter '"+d[f].name+"' does not exist in Sparky.filters");"filter"===K.debug&&console.log("Sparky: filter:",d[f].name,"value:",a,"args:",d[f].args),c=d[f].args,c[0]=a,a=d[f].fn.apply(K,c)}return a}function p(a,b,c){K.rtags.lastIndex=0,a.replace(K.rtags,function(a,d,e){var f;-1===b.indexOf(e)&&(2===d.length?(b.push(e),f=c.indexOf(e),-1!==f&&c.splice(f,1)):-1===c.indexOf(e)&&c.push(e))})}function q(a){return function(b,c,d,e){var f=a(d),g=e?o(f,e):f;return X(g)?"string"==typeof g?g:"number"==typeof g?g:"boolean"==typeof g?g:"function"==typeof g?(g.name||"function")+(S.exec(g.toString())||[])[1]:Y(g):""}}function r(a,b,c){var d,e=q(b);return function(){K.rtags.lastIndex=0;var b=a.replace(K.rtags,e);c(b,d),d=b}}function s(a,b,c,d,e,f){var g=[],h=[];if(p(a,g,h),0!==g.length||0!==h.length){var i=r(a,d,e);g.length?f.push(t(b,c,i,g)):i()}}function t(a,b,c,d){return d.forEach(function(b){a(b,c)}),function(){d.forEach(function(a){b(a,c)})}}function u(a){var b=parseFloat(a);return Number.isNaN(b)?void 0:b}function v(a){var b=parseFloat(a);return Number.isNaN(b)?void 0:Math.round(b)}function w(a){return"false"===a?!1:"0"===a?!1:""===a?!1:!!a}function x(a){return"on"===a}function y(a){return X(a)?a+"":void 0}function z(a){return"number"==typeof a?a+"":void 0}function A(a){
return"number"==typeof a&&a%1===0?a+"":void 0}function B(a){return"boolean"==typeof a?a+"":"number"==typeof a?!!a+"":void 0}function C(a){return"boolean"==typeof a||"number"==typeof a?a?"on":"":void 0}function D(a){!L.features.inputEventsOnDisabled&&a.disabled?(a.disabled=!1,setTimeout(function(){a.dispatchEvent(V),a.disabled=!0},0)):a.dispatchEvent(V)}function E(a,b,c,d){var e=a.type;return"radio"===e||"checkbox"===e?function(){var e=d(b(c)),f=a.value===e;a.checked!==f&&(a.checked=f,D(a))}:function(){var e=d(b(c));if("string"==typeof e){if(a.value===e)return;a.value=e}else a.value="";D(a)}}function F(a,b,c,d){var e=a.type;return"radio"===e?function(e){a.checked&&b(c,d(a.value))}:"checkbox"===e?function(e){b(c,d(a.checked?a.value:void 0))}:function(e){b(c,d(a.value))}}function G(b,c,d,e,f,g,h,i){var j=(b.getAttribute("value"),E(b,c,g,h)),k=F(b,d,g,i);b.addEventListener("change",k),b.addEventListener("input",k);var l=a.requestAnimationFrame(function(){l=!1,X(c(g))||k(),e(g,j)});return function m(){b.removeEventListener("change",k),b.removeEventListener("input",k),l?a.cancelAnimationFrame(l):m(g,j)}}function H(a,b,c,d,e,f,g){var h=a.name;if(!a.name)return void console.warn("Sparky: Cannot bind value of node with empty name.",a);K.rtags.lastIndex=0;var i=K.rtags.exec(h)||U,j=i[2];return j?i[3]?void console.warn('Sparky: Sparky tags in name attributes do not accept filters. Ignoring name="'+h+'".'):(a.name=h.replace(K.rtags,j),G(a,b,c,d,e,j,f,g)):void 0}function I(a,c,d,e,f,g){var h=Array.prototype.concat.apply([],a.map(function(a){return $[a.nodeType](a,e,f,c,d,g)}));return function(){h.forEach(b)}}var J=Object.assign,K=a.Sparky,L=K.dom,M=["href","title","id","style","src","alt"],N=/(\{{2,3})\s*([\w\-\.\[\]]+)\s*(?:\|([^\}]+))?\s*\}{2,3}/g,O=/[^\s]*\{{2,3}[^\}]+\}{2,3}[^\s]*/g,P=/\s*([a-zA-Z0-9_\-]+)\s*(?:\:(.+))?/,Q=/\s+/,R=/\S/,S=/function(?:\s+\w+)?\s*(\([\w\,\s]*\))/,T={},U=[],V=new CustomEvent("valuechange",{bubbles:!0}),W=(K.noop,K.returnArg),X=(K.returnThis,K.isDefined),Y=K.classOf,Z=Function.prototype.call.bind(Array.prototype.slice),$={1:g,3:h,11:i},_={label:function(a,b,c,d,e,f,g){m(a,"for",b,c,d,g),j(a,b,c,d,e,f,g)},input:function(a,b,c,d,e,f,g){var h=a.type;m(a,"value",b,c,d,g),m(a,"min",b,c,d,g),m(a,"max",b,c,d,g);var c="number"===h||"range"===h?H(a,d,e,b,c,z,u):"checkbox"!==h||X(a.getAttribute("value"))?H(a,d,e,b,c,W,W):H(a,d,e,b,c,C,x);c&&g.push(c)},select:function(a,b,c,d,e,f,g){m(a,"value",b,c,d,g),j(a,b,c,d,e,f,g);var c=H(a,d,e,b,c,W,W);c&&g.push(c)},option:function(a,b,c,d,e,f,g){m(a,"value",b,c,d,g),j(a,b,c,d,e,f,g)},textarea:function(a,b,c,d,e,f,g){var c=H(a,d,e,b,c,W,W);c&&g.push(c)},time:function(a,b,c,d,e,f,g){l(a,b,c,d,g,["datetime"]),j(a,b,c,d,e,f,g)},path:function(a,b,c,d,e,f,g){l(a,b,c,d,g,["d"])}};J(K,{parse:I,parseName:H,attributes:M,stringToInt:v,stringToFloat:u,stringToBool:w,stringOnToBool:x,definedToString:y,intToString:A,floatToString:z,boolToString:B,boolToStringOn:C,rtags:N,rspaces:Q,rclasstags:O})}(this),function(){"use strict";function a(a,b,c){return(a-b)/(c-b)}function b(a,b,c){return a*(c-b)+b}function c(a){a.preventDefault()}var d=Math.pow;Sparky.fn["value-number-pow-2"]=function(c,e){function f(c){if("number"!=typeof c)return"";var e=b(d(a(c,h,i),.5),h,i);return e+""}function g(c){var e=parseFloat(c);if(!Number.isNaN(e))return b(d(a(e,h,i),2),h,i)}var h=c.min?parseFloat(c.min):c.min=0,i=c.max?parseFloat(c.max):c.max=1,j=Sparky.parseName(c,e,f,g);this.on("destroy",j)},Sparky.fn["value-number-pow-3"]=function(c,e){function f(c){if("number"!=typeof c)return"";var e=b(d(a(c,h,i),1/3),h,i);return e+""}function g(c){var e=parseFloat(c);if(!Number.isNaN(e))return b(d(a(e,h,i),3),h,i)}var h=c.min?parseFloat(c.min):c.min=0,i=c.max?parseFloat(c.max):c.max=1,j=Sparky.parseName(c,e,f,g);this.on("destroy",j)},Sparky.fn["value-number-log"]=function(c,d){function e(a){if("number"!=typeof a)return"";var c=b(Math.log(a/g)/Math.log(i),g,h);return c+""}function f(b){var c=parseFloat(b);if(!Number.isNaN(c))return g*Math.pow(i,a(c,g,h))}var g=c.min?parseFloat(c.min):c.min=1,h=c.max?parseFloat(c.max):c.max=10,i=h/g;
if(0>=g)return void console.warn('Sparky: ctrl "value-number-log" cannot accept a min attribute of 0 or lower.',c);var j=Sparky.parseName(c,d,e,f);this.on("destroy",j)},Sparky.fn["value-int-log"]=function(c,d){function e(a){if("number"!=typeof a)return"";var c=b(Math.log(Math.round(a)/g)/Math.log(i),g,h);return c+""}function f(b){var c=parseFloat(b);if(!Number.isNaN(c))return Math.round(g*Math.pow(i,a(c,g,h)))}var g=c.min?parseFloat(c.min):c.min=1,h=c.max?parseFloat(c.max):c.max=10,i=h/g;if(0>=g)return void console.warn('Sparky: ctrl "value-int-log" cannot accept a min attribute of 0 or lower.',c);var j=Sparky.parseName(c,d,e,f);this.on("destroy",j)},Sparky.fn["value-pow-2"]=function(){console.warn('Sparky: ctrl "value-pow-2" is deprecated. Use "value-number-pow-2"')},Sparky.fn["value-pow-3"]=function(){console.warn('Sparky: ctrl "value-pow-3" is deprecated. Use "value-number-pow-3"')},Sparky.fn["value-log"]=function(a,b){console.warn('Sparky: ctrl "value-log" is deprecated. Replace with "value-number-log"')},Sparky.scope=function(a){return console.warn("Sparky: Sparky.scope() deprecated in favour of Sparky.getScope()"),Sparky.getScope(a)},Sparky.setScope=function(a,b){jQuery.data(a,"scope",b)},Sparky.getScope=function(a){return jQuery.data(a,"scope")},Object.assign(Sparky.fn,{"prevent-click":function(a){a.addEventListener("click",c),this.on("destroy",function(){a.removeEventListener("click",c)})},"prevent-submit":function(a){a.addEventListener("submit",c),this.on("destroy",function(){a.removeEventListener("submit",c)})},"delegate-scope":Sparky.setScope})}(),function(){"use strict";Sparky.fn.log=function(a,b){console.group("Sparky.fn.log:"),console.log("node:  ",a),console.log("scope: ",b),console.log("data:  ",this.data),console.log("ctrl:  ",this.ctrl),console.log("sparky:",this),console.groupEnd()},Sparky.fn["log-events"]=function(a,b){var c=0,d=0,e=0;this.on("ready",function(){console.log("Sparky.fn.log-events: READY  ",c++,a)}).on("insert",function(){console.log("Sparky.fn.log-events: INSERT ",d++,a)}).on("destroy",function(){console.log("Sparky.fn.log-events: DESTROY",e++,a)})}}(),function(){"use strict";Sparky.fn.html=function(a,b){function c(){a.innerHTML=b[d]}var d=a.getAttribute("data-property");observe(b,d,c),this.destroy=function(){unobserve(b,d,c)}},Sparky.fn["inner-html"]=function(){console.warn('Sparky: deprecated data-fn="inner-html". Use data-fn="html"'),Sparky.fn.html.apply(this,arguments)}}(),function(){"use strict";Sparky.fn["click-to-call"]=function(a,b){function c(a){b[d](),a.preventDefault()}var d=a.getAttribute("data-fn");a.addEventListener("click",c),this.destroy=function(){a.removeEventListener("click",c)}}}(),function(){"use strict";var a=Sparky.dom;Sparky.fn.replace=function(b,c){var d=this,e=b.getAttribute("data-replace");if(!e)throw console.error(b),new Error('Sparky: ctrl "replace" requires attribute data-replace.');e.split(Sparky.rspaces).forEach(function(e){for(var f=d.slave(e,c),g=f.length;g--;)a.after(b,f[g])}),a.remove(b)}}(),function(){"use strict";Sparky.dom;Sparky.fn["x-scroll-slave"]=function(a,b){function c(){a.scrollLeft=d.scrollLeft}var d,e=a.getAttribute("data-x-scroll-master");this.on("insert",function(){if(d=document.getElementById(e),!d)throw console.error(a),new Error('Sparky scroll-x-slave: id="'+e+'" not in the DOM.');d.addEventListener("scroll",c),c()}).on("destroy",function(){d&&d.removeEventListener("scroll",c)})},Sparky.fn["y-scroll-slave"]=function(a,b){function c(){a.scrollTop=e.scrollTop}var d=a.getAttribute("data-y-scroll-master"),e=document.getElementById(d);if(!e)throw console.error(a),new Error('Sparky scroll-x-slave: id="'+d+'" not in the DOM.');e.addEventListener("scroll",c),c(),this.on("destroy",function(){e.removeEventListener("scroll",c)})},Sparky.fn["x-scroll-center"]=function(a){this.on("insert",function(){var b=a.clientWidth,c=a.scrollWidth;a.scrollLeft=(c-b)/2})},Sparky.fn["y-scroll-center"]=function(a){this.on("insert",function(){var b=a.clientHeight,c=a.scrollHeight;a.scrollTop=(c-b)/2})}}(),function(){"use strict";function a(a){var b=parseFloat(a);return Number.isNaN(b)?void 0:b;
}function b(a){return"number"==typeof a?a.toFixed(0)+"":void 0}function c(a){return"number"==typeof a?a.toFixed(1)+"":void 0}function d(a){return"number"==typeof a?a.toFixed(2)+"":void 0}function e(a){return"number"==typeof a?a.toFixed(3)+"":void 0}var f=Object.assign;f(Sparky.fn,{"value-number-decimals-0":function(c,d){var e=Sparky.parseName(c,d,b,a);e&&this.on("destroy",e)},"value-number-decimals-1":function(b,d){var e=Sparky.parseName(b,d,c,a);e&&this.on("destroy",e)},"value-number-decimals-2":function(b,c){var e=Sparky.parseName(b,c,d,a);e&&this.on("destroy",e)},"value-number-decimals-3":function(b,c){var d=Sparky.parseName(b,c,e,a);d&&this.on("destroy",d)}})}(),function(a){"use strict";var b=Object.assign,c=a.Sparky,d=c.dom;b(c.fn,{"on-ready-unhide":function(a,b){this.on("ready",function(){d.classes(this[0]).remove("hidden")})}})}(this),function(a){"use strict";var b=(Object.assign,a.Sparky),c=b.dom;b.fn.each=function(d){function e(){var d,e,f,g=-1,j=o.length,k={};for(b.debug&&(f=a.performance.now());j--;)e=o[j],d=h.indexOf(e),-1===d?n[j].destroy():m[j]&&n[j]&&(k[d]=[m[j],n[j]]);for(j=m.length=n.length=o.length=h.length;++g<j;)o[g]=h[g],k[g]?(m[g]=k[g][0],n[g]=k[g][1]):(m[g]=p.cloneNode(!0),n[g]=l.create(m[g],h[g])),c.before(i,m[g]);b.log("collection rendered (length: "+h.length+", time: "+(a.performance.now()-f)+"ms)")}function f(){h.on?(h.on("add remove",q),q()):b.observe(h,"length",q)}function g(){h.on?h.off("add remove",q):b.unobserve(h,"length",q)}var h,i,j,k,l=this,m=[],n=[],o=[],p=d.cloneNode(!0),q=b.Throttle(e);return b.debug?(j=d.getAttribute("data-scope"),k=d.getAttribute("data-fn"),i=c.create("comment",(j?' data-scope="'+j+'"':"")+(k?' data-fn="'+k+'" ':""))):i=c.create("text",""),p.removeAttribute("data-scope"),p.removeAttribute("data-fn"),c.before(d,i),c.remove(d),this.on("scope",function(a,b){this===a&&b!==h&&(h&&g(),h=b,void 0!==b&&f())}).on("destroy",function(){q.cancel(),g()}),!1}}(this),function(a){"use strict";function b(a){return!r(a)}function c(a){return"on"!==a}function d(a){return"boolean"==typeof a?!a+"":"number"==typeof a?!a+"":void 0}function e(a){return"boolean"==typeof a||"number"==typeof a?a?"":"on":void 0}function f(a,b){var c=n.parseName(a,b,t,o);c&&this.on("destroy",c)}function g(a,b){var c=n.parseName(a,b,o,o);c&&this.on("destroy",c)}function h(a,b){var c=n.parseName(a,b,u,q);c&&this.on("destroy",c)}function i(a,b){var c=n.parseName(a,b,u,p);c&&this.on("destroy",c)}function j(a,b){var c=a.type,d="checkbox"!==c||isDefined(a.getAttribute("value"))?n.parseName(a,b,v,r):n.parseName(a,b,w,s);d&&this.on("destroy",d)}function k(a,f){var g=a.type,h="checkbox"!==g||isDefined(a.getAttribute("value"))?n.parseName(a,f,d,b):n.parseName(a,f,e,c);h&&this.on("destroy",h)}function l(a,b){var c=a.min?parseFloat(a.min):a.min=0,d=mode.max?parseFloat(a.max):a.max=1,e=n.parseName(a,b,function(a){return"number"!=typeof a?"":""+(d-a+c)},function(a){var b=parseFloat(a);return Number.isNaN(b)?void 0:d-a+c});e&&this.on("destroy",e)}var m=Object.assign,n=a.Sparky,o=(n.parseName,n.returnArg),p=n.stringToInt,q=n.stringToFloat,r=n.stringToBool,s=n.stringOnToBool,b=n.stringToBoolInverted,c=n.stringOnToBoolInverted,t=n.definedToString,u=(n.intToString,n.floatToString),v=n.boolToString,w=n.boolToStringOn,e=n.boolToStringOnInverted;m(n.fn,{"value-any":f,"value-string":g,"value-float":h,"value-int":i,"value-bool":j,"value-number-invert":l,"value-boolean-invert":k})}(this),function(a){"use strict";function b(a){for(var b=[],c=0;c++<31;)b[c]=a[c]||a.n;return b}function c(a){for(var b="";a--;)b+=" ";return b}function d(a){return!!a||void 0!==a&&null!==a&&!Number.isNaN(a)}var e=a.settings=a.settings||{},f=[];e.en={days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),months:"January February March April May June July August September October November December".split(" "),ordinals:b({n:"th",1:"st",2:"nd",3:"rd",21:"st",22:"nd",23:"rd",31:"st"})},e.fr={days:"dimanche lundi mardi mercredi jeudi vendredi samedi".split(" "),months:"janvier février mars avril mai juin juillet août septembre octobre novembre décembre".split(" "),
ordinals:b({n:"ième",1:"er"})},e.de={days:"Sonntag Montag Dienstag Mittwoch Donnerstag Freitag Samstag".split(" "),months:"Januar Februar März April Mai Juni Juli Oktober September Oktober November Dezember".split(" "),ordinals:b({n:"er"})},e.it={days:"domenica lunedì martedì mercoledì giovedì venerdì sabato".split(" "),months:"gennaio febbraio marzo aprile maggio giugno luglio agosto settembre ottobre novembre dicembre".split(" "),ordinals:b({n:"o"})};var g=document.documentElement.lang;e.lang=g&&e[g]?g:"en",a.filters={add:function(a,b){var c=parseFloat(a)+b;if(!Number.isNaN(c))return c},capfirst:function(a){return a.charAt(0).toUpperCase()+a.substring(1)},cut:function(b,c){return a.filters.replace(b,c,"")},date:function(a){function b(a){var b=new Date(a),c=b.toJSON(),d=c.slice(0,a.length)===a&&!c.slice(a.length).match(e);return"string"!=typeof a?new Date(a):d?new Date(+b+6e4*b.getTimezoneOffset()):b}var c={a:function(a){return a.getHours()<12?"a.m.":"p.m."},A:function(a){return a.getHours()<12?"AM":"PM"},b:function(b,c){return a[c].months[b.getMonth()].toLowerCase().slice(0,3)},c:function(a){return a.toISOString()},d:function(a){return a.getDate()},D:function(b,c){return a[c].days[b.getDay()].slice(0,3)},F:function(b,c){return a[c].months[b.getMonth()]},g:function(a){return a.getHours()%12},G:function(a){return a.getHours()},h:function(a){return("0"+a.getHours()%12).slice(-2)},H:function(a){return("0"+a.getHours()).slice(-2)},i:function(a){return("0"+a.getMinutes()).slice(-2)},j:function(a){return a.getDate()},l:function(b,c){return a[c].days[b.getDay()]},m:function(a){return("0"+a.getMonth()).slice(-2)},M:function(b,c){return a[c].months[b.getMonth()].slice(0,3)},n:function(a){return a.getMonth()},O:function(a){return(a.getTimezoneOffset()<0?"+":"-")+("0"+Math.round(100*Math.abs(a.getTimezoneOffset())/60)).slice(-4)},r:function(a){return a.toISOString()},s:function(a){return("0"+a.getSeconds()).slice(-2)},S:function(b){return a.ordinals[b.getDate()]},U:function(a){return+a},w:function(a){return a.getDay()},y:function(a){return("0"+a.getFullYear()%100).slice(-2)},Y:function(a){return a.getFullYear()},Z:function(a){return 60*-a.getTimezoneOffset()}},d=/([a-zA-Z])/g,e=/[1-9]/;return function(e,f,g){if(e){var h=e instanceof Date?e:b(e);return g=g||a.lang,f.replace(d,function(a,b){return c[b](h,g)})}}}(e),decibels:function(a){return"number"==typeof a?20*Math.log10(a):void 0},decimals:function(a,b){return"number"==typeof a?Number.prototype.toFixed.call(a,b):void 0},divide:function(a,b){return"number"==typeof a?a/b:void 0},escape:function(){var a=document.createElement("pre"),b=document.createTextNode(this);return a.appendChild(b),function(c){return b.textContent=c,a.innerHTML}}(),equals:function(a,b,c,d){return(a===b?c:d)||""},first:function(a){return a[0]},floatformat:function(b,c){return"number"==typeof b?Number.prototype.toFixed.call(b,c):d(b)?a.debug&&console.warn("Sparky: filter floatformat: "+c+" called on non-number "+b):""},floor:function(a){return Math.floor(a)},get:function(a,b){return a[b]},"greater-than":function(a,b,c,d){return a>b?c:d},invert:function(a){return 1/a},is:function(a,b,c,d){return(a===b?c:d)||""},join:function(a,b){return Array.prototype.join.call(a,b)},json:function(a){return JSON.stringify(a)},last:function(a){return a[a.length-1]},length:function(a){return a.length},"less-than":function(a,b,c,d){return b>a?c:d},lower:function(a){String.prototype.toLowerCase.apply(a)},lowercase:function(a){return"string"==typeof a?String.prototype.toLowerCase.apply(a):void 0},mod:function(a,b){return"number"==typeof a?a%b:void 0},multiply:function(a,b){return a*b},parseint:function(a){return parseInt(a,10)},percent:function(a){return 100*a},pluralize:function(a,b,c,d){return"number"==typeof a?(b=b||"",c=c||"s","fr"===d?2>a&&a>=0?b:c:1===a?b:c):void 0},prepad:function(a,b,c){var e=d(a)?a.toString():"",g=e.length;return 1>b-g?a:(f.length=0,f.length=b-g,f.push(e),f.join(c||" "))},postpad:function(a,b){var e=d(a)?a.toString():"",f=e.length,g=parseInt(b,10);return g===f?a:g>f?e+c(g-f):e.substring(0,g)},random:function(a){
return a[Math.floor(Math.random()*a.length)]},replace:function(a,b,c){return"string"==typeof a?a.replace(RegExp(b,"g"),c):void 0},round:function(a){return"number"==typeof a?Math.round(a):void 0},safe:function(a){},slice:function(a,b,c){return"string"==typeof a?a.slice(b,c):Array.prototype.slice.call(a,b,c)},slugify:function(a){return"string"==typeof a?a.trim().toLowerCase().replace(/\W/g,"-").replace(/[_]/g,"-"):void 0},striptags:function(){var a=/<(?:[^>'"]|"[^"]*"|'[^']*')*>/g;return function(b){return b.replace(a,"")}}(),striptagsexcept:function(){function a(a,c,d){return d&&-1!==b.indexOf(d)?"<"+(c||"")+d+">":""}var b,c,d=/<(\/)?(\w*)(?:[^>'"]|"[^"]*"|'[^']*')*>/g;return function(e,f){return f?(b=f.split(" "),c=e.replace(d,a),b=!1,c):e.replace(d,"")}}(),"switch":function(a){return"string"==typeof a&&(a=parseInt(a,10)),"number"!=typeof a||Number.isNaN(a)?void 0:arguments[a+1]},symbolise:function(a){var b=a+"",c=1/0+"";return b===c?"∞":b==="-"+c?"-∞":a},time:function(){},truncatechars:function(a,b){return a.length>b?a.length.slice(0,b)+"&hellips;":a},type:function(a){return typeof a},uppercase:function(a){return"string"==typeof a?String.prototype.toUpperCase.apply(a):void 0},yesno:function(a,b,c){return a?b:c}}}(window.Sparky||require("sparky")),function(a,b){function c(a){return"template"===a.tagName.toLowerCase()?!0:a===document.documentElement?!1:c(a.parentNode)}if(a){var d=b.dom,e=a(document);e.ready(function(){var a;window.console&&(a=Date.now());for(var f,g,h=document.querySelectorAll("[data-fn], [data-scope]"),i=-1,j=h.length,k=[];++i<j;){for(f=h[i],k.push(f);++i<j&&f.contains(h[i]);)g=h[i].getAttribute("data-scope"),void 0!==g&&!/\{\{/.test(g);--i}if(!d.features.template)for(i=k.length;i--;)c(k[i])&&k.splice(i,1);b.debug&&console.log("Sparky: DOM nodes to initialise:",k),k.forEach(function(a){b(a)}),window.requestAnimationFrame(function(){e.trigger("sparkyready")}),window.console&&console.log("Sparky: DOM initialised in "+(Date.now()-a)+"ms")})}}(jQuery,Sparky),function(a){a.console&&a.console.log&&console.log("_________________________________")}(this),Sparky.debug=!1;