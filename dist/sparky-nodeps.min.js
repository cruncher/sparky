!function(t){"use strict"
function n(t,n){var e=H(n).trim().split(I)
t.add.apply(t,e)}function e(t,n){var e=H(n).trim().split(I)
t.remove.apply(t,e)}function r(t,n,e){if(!e)return M
var r,o,i,a,u=[]
for(Y.lastIndex=0;Y.lastIndex<e.length&&(r=Y.exec(e));){if(o=r[1],i=n[o]?n[o].transform:t[o],!i)throw new Error('Sparky: transform "'+o+'" not found')
if(r[2]?(a=JSON.parse("["+r[2].replace(/'/g,'"')+"]"),u.push(i.apply(null,a))):u.push(i),"function"!=typeof u[u.length-1])throw new Error('Sparky: transform "'+o+'" not resulting in fn')}return j.apply(null,u)}function o(t,n){if(!n)return M
var e,r,o,i,a=[]
for(Y.lastIndex=0;Y.lastIndex<n.length&&(e=Y.exec(n));){if(r=e[1],o=t[r].invert,!o)throw new Error('Sparky: transformers "'+r+'" not found')
e[2]?(i=JSON.parse("["+e[2].replace(/'/g,'"')+"]"),a.unshift(o.apply(null,i))):a.unshift(o)}return j.apply(null,a)}function i(t,n,e,r,o){var i=e.length
e.push(""),r.push({token:o[0],path:o[2],pipe:o[3],render:function(t){e[i]=H(t),n(e)}})}function a(t,n,e,r){var o=e.rtoken,a=o.lastIndex=0,u=o.exec(t)
if(!u)return E
for(var s=[],c=function(t){n(t.join(""))};u;)u.index>a&&s.push(t.slice(a,u.index)),i(t,c,s,r,u),a=o.lastIndex,u=o.exec(t)
t.length>a+1&&s.push(t.slice(a))}function u(t,n,e,r){for(var o;o=t.shift();)s(o,n,e,r)}function s(t,n,e,r){var o=b.attribute(t,n)
return o?a(o,function(e){n.setAttribute(t,e)},e,r):E}function c(t,n,e,r){var o=e.rtoken,i=n.getAttribute(e.prefix+t)||n.getAttribute(t)
if(i){o.lastIndex=0
var a=o.exec(i.trim())
a&&r.push({token:i.trim(),path:a[2],pipe:a[3],render:t in n?function(e){n[t]=!!e}:function(e){e?n.setAttribute(t,t):n.removeAttribute(t)}})}}function f(t,r,o){var i=r.rtoken,a=b.attribute("class",t)
if(a){var u=b.classes(t),s=a.replace(i,function(t,r,i,a,s){var c=""
return o.push({token:t,path:i,pipe:a,render:function(t){c&&q.test(c)&&e(u,c),t&&q.test(t)&&n(u,t),c=t}}),""})
t.setAttribute("class",s)}}function l(t,n,e){var r=t.name,o=n.rtoken
o.lastIndex=0
var i=o.exec(r)
if(i)return Z(t,n,i,e)}function p(t,n){var e=r(n.transforms,n.transformers,t.pipe)
t.push=k(t.render,e),t.throttle=h.throttle(t.push,requestAnimationFrame,cancelAnimationFrame)}function d(t,n,e){var r
return{shift:A,stop:function(){t.forEach(function(t){t.unbind&&t.unbind(),t.stop&&t.stop()})},push:function(i){if(r!==i){r=i,g&&console.groupCollapsed("Sparky: update",e)
var a,u=v(i)
return t.forEach(function(t){t.unbind&&t.unbind(),t.push||p(t,n),t.unbind=t.unbind||function(n){t.throttle&&t.throttle.cancel(),t.input.stop(),t.listen&&a()}
var e=t.input=y.observe(t.path,u),r=e.latest().shift()
void 0!==r&&t.push(r),e.each(t.throttle||t.push)
var i,s,c
t.listen&&(i=T(t.path,u),s=o(n.transformers,t.pipe),c=j(function(){return t.read()},s,i),a=t.listen(c),void 0===r&&c())}),g&&console.groupEnd(),i}}}}function m(t,n){n=S({},J,n),g&&console.groupCollapsed("Sparky: mount ",t)
var e=[]
return U(t,n,e),g&&(console.table(e,["token","path","pipe"]),console.groupEnd()),d(e,n,t)}var g=t.DEBUG,h=t.Fn,v=t.Observable,y=t.Stream,b=t.dom,S=Object.assign,k=h.compose,x=h.curry,w=h.get,M=h.id,D=h.isDefined,F=Number.isNaN,E=h.nothing,A=h.noop,O=h.overload,j=h.pipe,N=h.set,T=h.setPath,L=h.toType,I=/\s+/,q=/\S/,P=/function(?:\s+\w+)?\s*(\([\w,\s]*\))/,J={prefix:"data-",mount:A,transforms:{},transformers:{},rtoken:/(\{\[)\s*(.*?)(?:\s*(\|.*?))?\s*(\]\})/g},H=O(L,{boolean:function(t){return t+""},function:function(t){return(t.name||"function")+(P.exec(t.toString())||[])[1]},number:function(t){return Number.isNaN(t)?"":t+""},string:M,symbol:function(t){return t.toString()},undefined:function(){return""},object:function(t){return null===t?"":JSON.stringify(t)},default:JSON.stringify}),Y=/\|\s*([\w\-]+)\s*(?::([^|]+))?/g,B=x(function(t,n,e){return t.addEventListener(n,e),function(){t.removeEventListener("input",e)}},!0),C={1:function(t,n,e){for(var r,o,i=t.childNodes,a=-1;r=i[++a];)o=n.mount(r),o?e.push(o):U(r,n,e)
f(t,n,e),u(["id","title","style"],t,n,e),G(t,n,e),g&&console.log("mounted:",t,e.length)},3:function(t,n,e){a(t.nodeValue,N("nodeValue",t),n,e)},8:A,11:function(t,n,e){for(var r,o,i=t.childNodes,a=-1;r=i[++a];)o=n.mount(r),o?e.push(o):U(r,n,e)}},R={a:function(t,n,e){s("href",t,n,e)},button:function(t,n,e){c("disabled",t,n,e)},input:function(t,n,e){c("disabled",t,n,e),c("required",t,n,e),u(["value"],t,n,e),V(t,n,e),l(t,n,e)},img:function(t,n,e){s("alt",t,n,e)},label:function(t,n,e){s("for",t,n,e)},option:function(t,n,e){c("disabled",t,n,e),s("value",t,n,e)},select:function(t,n,e){c("disabled",t,n,e),c("required",t,n,e),s("value",t,n,e),l(t,n,e)},textarea:function(t,n,e){c("disabled",t,n,e),c("required",t,n,e),l(t,n,e)},time:function(t,n,e){u(["datetime"],t,n,e)},svg:function(t,n,e){u(["viewbox"],t,n,e)},g:function(t,n,e){u(["transform"],t,n,e)},path:function(t,n,e){u(["d","transform"],t,n,e)},line:function(t,n,e){u(["x1","x2","y1","y2","transform"],t,n,e)},rect:function(t,n,e){u(["x","y","width","height","rx","ry","transform"],t,n,e)},text:function(t,n,e){u(["x","y","dx","dy","text-anchor"],t,n,e)},use:function(t,n,e){u(["href","transform"],t,n,e)},default:A},z={date:function(t,n,e){u(["min","max","step"],t,n,e)},number:function(t,n,e){u(["min","max","step"],t,n,e)},range:function(t,n,e){u(["min","max","step"],t,n,e)},time:function(t,n,e){u(["min","max","step"],t,n,e)},checkbox:function(){},radio:function(){},default:A},Q={checkbox:function(t,n,e,r){r.push({node:t,token:e[0],path:e[2],pipe:e[3],read:function(){return D(t.getAttribute("value"))?t.checked?t.value:void 0:t.checked},render:function(n){t.checked=D(t.getAttribute("value"))?n===t.value:n===!0},listen:B(t,"change")})},radio:function(t,n,e,r){r.push({node:t,token:e[0],path:e[2],pipe:e[3],read:function(){if(t.checked)return!D(t.getAttribute("value"))||t.value},render:function(n){t.checked=D(t.getAttribute("value"))?n===t.value:n===!0},listen:B(t,"change")})},number:function(t,n,e,r){r.push({node:t,token:e[0],path:e[2],pipe:e[3],read:function(){return t.value?parseFloat(t.value):void 0},render:function(n){n!==parseFloat(t.value)&&(t.value="number"!=typeof n||F(n)?"":n)},listen:B(t,"input")})},range:function(t,n,e,r){r.push({node:t,token:e[0],path:e[2],pipe:e[3],read:function(){return t.value?parseFloat(t.value):void 0},render:function(n){n!==parseFloat(t.value)&&(t.value="number"!=typeof n||F(n)?"":n)},listen:B(t,"input")})},default:function(t,n,e,r){r.push({node:t,token:e[0],path:e[2],pipe:e[3],read:function(){return t.value},render:function(n){n!==t.value&&(t.value="string"==typeof n?n:"")},listen:B(t,"input")})}},U=O(w("nodeType"),C),G=O(b.tag,R),V=O(w("type"),z),Z=O(w("type"),Q)
m.types=C,m.tags=R,m.inputs=z,m.mountAttribute=s,m.mountBoolean=c,m.mountInput=V,m.mountName=l,t.mount=m}(this),function(t){t.console&&t.console.log&&console.log("Sparky      - https://github.com/cruncher/sparky")}(this),function(t){"use strict"
function n(t,n){for(var e=[],r=-1;t[++r];)e.push(c(t[r],n))
return{stop:function(){return e.forEach(d("stop",arguments))},push:function(){return e.forEach(d("push",arguments))}}}function e(t){return t.replace(/\//g,"\\/")}function r(t,o,i){if(!r.prototype.isPrototypeOf(this))return new r(t,o,i)
if(t="string"==typeof t?document.querySelector(e(t)):t,"template"===w(t)){for(var c=S(t).cloneNode(!0),f=c.childNodes,l=-1;f[++l];)this[l]=f[l]
this.length=f.length,t=v(c)[0]}else this[0]=t,this.length=1
var p=i&&i.fn||s.attribute("data-fn",t)||"",d=!0,m=this,k=o?u.of(a(o)||o):u.of(),x=g
this.push=k.push,this.stop=function(){return k.stop&&k.stop(),x.stop&&x.stop(),m},this.interrupt=function(){return d=!1,{fn:p}}
for(var F,E,A;F=p.match(M);){if(E=r.fn[F[1]],!E)throw new Error('Sparky: fn "'+F[1]+'" not found in Sparky.fn')
if(A=F[2]&&JSON.parse("["+F[2].replace(/'/g,'"')+"]"),p=p.slice(F[0].length),k=E.call(this,t,k,A)||k,!d)return this}D.transforms=r.transforms,D.transformers=r.transformers
var O=i&&i.template||s.attribute("data-template",t)||""
O?k.take(1).each(function(e){var r=b(O)
if(!r)throw new Error('Sparky: data-template="'+O+'" not found in DOM')
y(t),h(t,r),x=n(m,D),x.push(e),k.each(x.push)}):(x=n(m,D),k.each(x.push))}var o=t.DEBUG,i=t.Fn,a=t.Observable,u=t.Stream,s=t.dom,c=t.mount,f=Object.assign,l=i.each,p=i.getPath,d=i.invoke,m=i.noop,g=i.nothing,h=s.append,v=s.children,y=s.empty,b=s.fragmentFromId,S=s.fragmentFromTemplate,k=s.preventDefault,x=s.remove,w=s.tag,M=/\s*([-\w]+)(?:\s*:\s*((?:"[^"]*"|'[^']*'|[\w-\[\]]*)(?:\s*,\s*(?:"[^"]*"|'[^']*'|[\w-\[\]]*))*))?/,D={mount:function(t){var n=s.attribute("data-fn",t),e=s.attribute("data-template",t)
if(n||e){var i=r(t,void 0,{fn:n,template:e})
return o&&console.log("mounted:",t,n,e),i.token=n,i.path="",i}}}
f(r.prototype,{push:m,remove:function(){return l(x,this),this}}),f(r,{fn:{scope:function(n,e,r){var o=p(r[0],t)
return o?i.of(p(r[0],t)):(console.warn("Sparky: no object at path "+r[0],data.cuts[110]),i.of())},get:function(t,n,e){return n.map(p(e[0]))},ignore:function(t,n){console.log(this.interrupt(),t,n)},prevent:function(t,n,e){t.addEventListener(e[0],k)},log:function(t,n){function e(n){console.group("Sparky: scope",t),console.log("data ",r.data),console.log("scope",n),console.log("fn   ",r.fn),console.groupEnd("---")}var r=this
return console.group("Sparky: run  ",t),console.log("data ",r.data),console.groupEnd("---"),n.tap(e)}},transforms:{},mount:c,MarkerNode:function(t){if(!o)return s.create("text","")
var n=t&&t.getAttribute("data-scope"),e=t&&t.getAttribute("data-fn")
return s.create("comment",(n?' data-scope="'+n+'"':"")+(e?' data-fn="'+e+'" ':""))}}),Object.defineProperties(r,{rtoken:{get:function(){return D.rtoken},set:function(t){D.rtoken=t},enumerable:!0,configurable:!0}}),t.Sparky=r}(this),Sparky.nodeToString=Fn.id,function(t){var n=t.Sparky
!!(document.all&&document.compatMode||t.navigator.msPointerEnabled)
n.fn.log=function(t,n){function e(n){console.log("Sparky node:",t,"scope:",n)}return n.tap(e)}}(this),function(t){"use strict"
var n=Object.assign,e=t.dom,r=t.Sparky
n(r.fn,{"show-on-scope":function(n,r){r.tap(function(){t.requestAnimationFrame(function(){e.classes(n).remove("sparky-hidden")})})}})}(this),function(t){"use strict"
var n=Object.assign,e=t.Sparky
n(e.fn,{html:function(t,n){n.tap(function(n){t.innerHTML=n})}})}(this),function(t){"use strict"
function n(t){t.preventDefault()}var e=t.Fn
Sparky.scope=function(t){return console.warn("Sparky: Sparky.scope() deprecated in favour of Sparky.getScope()"),Sparky.getScope(t)},Sparky.setScope=function(n,e){if(!t.jQuery)throw new Error('data-fn="store-scope" requires jQuery.')
t.jQuery&&jQuery.data(n,"scope",e)},Sparky.getScope=function(n){if(!t.jQuery)throw new Error('data-fn="store-scope" requires jQuery.')
return jQuery.data(n,"scope")},Object.assign(Sparky.fn,{prevent:function(t,e,r){t.addEventListener(r[0],n)},"ajax-on-submit":function(t,r,o){var i=(t.getAttribute("method")||"POST",t.getAttribute("action"))
if(!e.isDefined(i))throw new Error('Sparky: fn ajax-on-submit requires an action="url" attribute.')
var a
t.addEventListener("submit",n),r.tap(function(n){a&&t.removeEventListener(a),a=function(t){axios.post(i,n,{headers:{"X-CSRFToken":getCookie("csrftoken")}}).then(function(t){console.log(t)}).catch(function(t){console.log(t)})},t.addEventListener("submit",a)})},"expose-scope":function(t,n){n.tap(function(n){Sparky.setScope(t,n)})}})}(this),function(){"use strict"
Sparky.fn["x-scroll-slave"]=function(t){function n(){t.scrollLeft=e.scrollLeft}var e,r=t.getAttribute("data-x-scroll-master")
this.on("dom-add",function(){if(e=document.getElementById(r),!e)throw console.error(t),new Error('Sparky scroll-x-slave: id="'+r+'" not in the DOM.')
e.addEventListener("scroll",n),n()}).on("destroy",function(){e&&e.removeEventListener("scroll",n)})},Sparky.fn["y-scroll-slave"]=function(t){function n(){t.scrollTop=r.scrollTop}var e=t.getAttribute("data-y-scroll-master"),r=document.getElementById(e)
if(!r)throw console.error(t),new Error('Sparky scroll-x-slave: id="'+e+'" not in the DOM.')
r.addEventListener("scroll",n),n(),this.on("destroy",function(){r.removeEventListener("scroll",n)})}}(),function(t){"use strict"
function n(t,n,e){var r=new u(t,n,e)
return r[d]=n,r}function e(t,e,r,o){for(var i,a,u,s=-1;++s<r.length;)if(a=r[s],i=o[s],!i||a!==i[d]){for(u=-1;o[++u]&&o[u][d]!==a;);i=u===o.length?n(c(t),a,e):o.splice(u,1)[0],o.splice(s,0,i)}}function r(t,n,e){for(;e.length>n.length;)e.pop().stop().remove()
for(var r=e.length,o=-1,i=t.parentNode;o<r;)for(t=t?t.nextSibling:null;++o<r&&e[o][0]!==t;)i.insertBefore(e[o][0],t)}var o=t.Fn,i=t.dom,a=t.Observable,u=t.Sparky,s=o.noop,c=i.clone,f=i.tag,l=a.observe,p=u.MarkerNode,d=Symbol("object")
u.fn.each=function(t,n,a){function u(t){var n=h?g.parentNode.value:void 0
e(d,m,t,c),r(g,t,c),h&&void 0!==n&&(g.parentNode.value=n)}var c=[],d=t.cloneNode(!0),m=this.interrupt(),g=p(t),h="option"===f(t),v=o.throttle(u,requestAnimationFrame,s)
d.removeAttribute("data-scope"),d.removeAttribute("data-fn"),i.before(t,g),i.remove(t)
var y=s,b=n.latest().shift()
b&&l(b,"",u),n.each(function(t){y(),y=l(t,"",v)})}}(this),function(t){"use strict"
function n(t){for(var n=[],e=0;e++<31;)n[e]=t[e]||t.n
return n}function e(t){for(var n="";t--;)n+=" "
return n}function r(t){var n=new Date(t),e=n.toJSON(),r=e.slice(0,t.length)===t&&!e.slice(t.length).match(d)
return"string"!=typeof t?new Date(t):r?new Date(+n+6e4*n.getTimezoneOffset()):n}var o=t.Fn,i=t.dom,a=t.Sparky,u=Object.assign,s=o.curry,c=o.isDefined,f=a.settings=a.settings||{}
f.en={days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),months:"January February March April May June July August September October November December".split(" "),ordinals:n({n:"th",1:"st",2:"nd",3:"rd",21:"st",22:"nd",23:"rd",31:"st"})},f.fr={days:"dimanche lundi mardi mercredi jeudi vendredi samedi".split(" "),months:"janvier février mars avril mai juin juillet août septembre octobre novembre décembre".split(" "),ordinals:n({n:"ième",1:"er"})},f.de={days:"Sonntag Montag Dienstag Mittwoch Donnerstag Freitag Samstag".split(" "),months:"Januar Februar März April Mai Juni Juli Oktober September Oktober November Dezember".split(" "),ordinals:n({n:"er"})},f.it={days:"domenica lunedì martedì mercoledì giovedì venerdì sabato".split(" "),months:"gennaio febbraio marzo aprile maggio giugno luglio agosto settembre ottobre novembre dicembre".split(" "),ordinals:n({n:"o"})}
var l=document.documentElement.lang
f.lang=l&&f[l]?l:"en"
var p=/([YMDdHhms]{2,4}|[a-zA-Z])/g,d=/[1-9]/
u(a.transformers={},{add:{transform:o.add,invert:s(function(t,n){return n-t})},decibels:{transform:o.todB,invert:o.toLevel},multiply:{transform:o.multiply,invert:s(function(t,n){return n/t})},degrees:{transform:o.toDeg,invert:o.toRad},radians:{transform:o.toRad,invert:o.toDeg},pow:{transform:o.pow,invert:s(function(t,n){return o.pow(1/t,n)})},exp:{transform:o.exp,invert:o.log},log:{transform:o.log,invert:o.exp},int:{transform:o.toFixed(0),invert:o.toInt},float:{transform:o.toString,invert:o.toFloat},normalise:{transform:o.normalise,invert:o.denormalise},denormalise:{transform:o.denormalise,invert:o.normalise},floatformat:{transform:o.toFixed,invert:s(function(t,n){return parseFloat(n)})}}),u(a.transformers,{decimals:a.transformers.floatformat}),u(a.transforms,{add:o.add,append:o.append,contains:o.contains,diff:o.diff,equals:o.equals,factorise:o.factorise,gcd:o.gcd,get:o.get,getPath:o.getPath,intersect:o.intersect,invoke:o.invoke,is:o.is,lcm:o.lcm,limit:o.limit,max:o.max,min:o.min,mod:o.mod,not:o.not,percent:o.multiply(100),prepend:o.prepend,rest:o.rest,root:o.nthRoot,slugify:o.slugify,sort:o.sort,take:o.take,toCartesian:o.toCartesian,todB:o.todB,toDeg:o.toDeg,toLevel:o.toLevel,toFixed:o.toFixed,toFloat:o.toFloat,toPolar:o.toPolar,toRad:o.toRad,toStringType:o.toStringType,toType:o.toType,unique:o.unique,unite:o.unite,escape:i.escape,toPx:i.toPx,toRem:i.toRem,capfirst:function(t){return t.charAt(0).toUpperCase()+t.substring(1)},cut:function(t,n){return a.filter.replace(t,n,"")},formatdate:function(t){var n={YYYY:function(t){return("000"+t.getFullYear()).slice(-4)},YY:function(t){return("0"+t.getFullYear()%100).slice(-2)},MM:function(t){return("0"+(t.getMonth()+1)).slice(-2)},MMM:function(t){return this.MMMM(t).slice(0,3)},MMMM:function(n){return t[l].months[n.getMonth()]},DD:function(t){return("0"+t.getDate()).slice(-2)},d:function(t){return""+t.getDay()},dd:function(t){return("0"+t.getDay()).slice(-2)},ddd:function(t){return this.dddd(t).slice(0,3)},dddd:function(n){return t[l].days[n.getDay()]},HH:function(t){return("0"+t.getHours()).slice(-2)},mm:function(t){return("0"+t.getMinutes()).slice(-2)},ss:function(t){return("0"+t.getSeconds()).slice(-2)},sss:function(t){return(t.getSeconds()+t.getMilliseconds()/1e3+"").replace(/^\d\.|^\d$/,function(t){return"0"+t})}}
return function(e,o,i){if(e){var a=e instanceof Date?e:r(e)
return i=i||t.lang,o.replace(p,function(t,e){return n[e]?n[e](a,i):e})}}}(f),formattime:function(t,n,e){return Time(t).render(n,e)},date:function(t){var n={a:function(t){return t.getHours()<12?"a.m.":"p.m."},A:function(t){return t.getHours()<12?"AM":"PM"},b:function(n,e){return t[e].months[n.getMonth()].toLowerCase().slice(0,3)},c:function(t){return t.toISOString()},d:function(t){return t.getDate()},D:function(n,e){return t[e].days[n.getDay()].slice(0,3)},F:function(n,e){return t[e].months[n.getMonth()]},g:function(t){return t.getHours()%12},G:function(t){return t.getHours()},h:function(t){return("0"+t.getHours()%12).slice(-2)},H:function(t){return("0"+t.getHours()).slice(-2)},i:function(t){return("0"+t.getMinutes()).slice(-2)},j:function(t){return t.getDate()},l:function(n,e){return t[e].days[n.getDay()]},m:function(t){return("0"+t.getMonth()).slice(-2)},M:function(n,e){return t[e].months[n.getMonth()].slice(0,3)},n:function(t){return t.getMonth()},O:function(t){return(t.getTimezoneOffset()<0?"+":"-")+("0"+Math.round(100*Math.abs(t.getTimezoneOffset())/60)).slice(-4)},r:function(t){return t.toISOString()},s:function(t){return("0"+t.getSeconds()).slice(-2)},S:function(n){return t.ordinals[n.getDate()]},U:function(t){return+t},w:function(t){return t.getDay()},y:function(t){return("0"+t.getFullYear()%100).slice(-2)},Y:function(t){return t.getFullYear()},Z:function(t){return 60*-t.getTimezoneOffset()}}
return s(function(e,o){if(o){var i=o instanceof Date?o:r(o)
return l=t.lang,e.replace(p,function(t,e){return n[e]?n[e](i,l):e})}})}(f),decibels:o.todB,decimals:o.toFixed,divide:s(function(t,n){if("number"==typeof n)return n/t}),"find-in":s(function(t,n){if(c(n)){var e=o.getPath(t,a.data)
return e&&e.find(n)}}),first:o.get(0),floatformat:s(function(t,n){return"number"==typeof n?Number.prototype.toFixed.call(n,t):c(n)?a.debug&&console.warn("Sparky: filter floatformat: "+t+" called on non-number "+n):""}),floor:function(t){return Math.floor(t)},"greater-than":s(function(t,n){return n>t}),invert:function(t){return"number"==typeof t?1/t:!t},join:s(function(t,n){return Array.prototype.join.call(n,t)}),json:function(t){return JSON.stringify(t)},last:function(t){return t[t.length-1]},length:function(t){return t.length},"less-than":s(function(t,n,e,r){return r<t?n:e}),localise:s(function(t,n){var e=document.documentElement.lang,r={}
return c(t)&&(r.minimumFractionDigits=t,r.maximumFractionDigits=t),n.toLocaleString?n.toLocaleString(e,r):n}),lowercase:function(t){if("string"==typeof t)return String.prototype.toLowerCase.apply(t)},map:s(function(t,n,e){return e&&e.map(a.transforms[t](n))}),pluralise:s(function(t,n,e,r){if("number"==typeof r)return t=t||"",n=n||"s","fr"===e?r<2&&r>=0?t:n:1===r?t:n}),postpad:s(function(t,n){var r=c(n)?n.toString():"",o=r.length,i=parseInt(t,10)
return i===o?n:i>o?r+e(i-o):r.substring(0,i)}),prepad:s(function(t,n,e){var r=c(e)?e.toString():"",o=r.length,i=[]
return t-o<1?e:(i.length=0,i.length=t-o,i.push(r),i.join(n||" "))}),random:function(t){return t[Math.floor(Math.random()*t.length)]},reduce:s(function(t,n,e){return e&&e.reduce(o[t],n||0)}),replace:s(function(t,n,e){if("string"==typeof e)return e.replace(RegExp(t,"g"),n)}),round:Math.round,slice:s(function(t,n,e){return"string"==typeof e?e.slice(t,n):Array.prototype.slice.call(e,t,n)}),striptags:function(){var t=/<(?:[^>'"]|"[^"]*"|'[^']*')*>/g
return function(n){return n.replace(t,"")}}(),switch:function(t){if("string"==typeof t&&(t=parseInt(t,10)),"number"==typeof t&&!Number.isNaN(t))return arguments[t+1]},symbolise:function(t){var n=t+"",e=1/0+""
return n===e?"∞":n==="-"+e?"-∞":t},time:function(){},trans:function(){var t={}
return function(n){var e=a.data.translations
if(!e)return t.missingTranslations||(console.warn("Sparky: Missing lookup object Sparky.data.translations"),t.missingTranslations=!0),n
var r=e[n]
return r?r:(t[n]||(console.warn('Sparky: Sparky.data.translations contains no translation for "'+n+'"'),t[n]=!0),n)}}(),truncatechars:s(function(t,n){return n.length>t?n.slice(0,t)+"…":n}),type:function(t){return typeof t},uppercase:function(t){if("string"==typeof t)return String.prototype.toUpperCase.apply(t)},yesno:s(function(t,n,e){return e?t:n})})}(this)
