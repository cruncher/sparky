!function(t){"use strict"
function n(t,n){var e=H(n).trim().split(T)
t.add.apply(t,e)}function e(t,n){var e=H(n).trim().split(T)
t.remove.apply(t,e)}function r(t,n,e){if(!e)return P
var r,o,i,u,a=[]
for(C.lastIndex=0;C.lastIndex<e.length&&(r=C.exec(e));){if(o=r[1],i=n[o]?n[o].tx:t[o],!i)throw new Error('mount:  transform "'+o+'" not found')
if(r[2]?(u=JSON.parse("["+r[2].replace(/'/g,'"')+"]"),a.push(i.apply(null,u))):a.push(i),"function"!=typeof a[a.length-1])throw new Error('mount:  transform "'+o+'" not resulting in fn')}return O.apply(null,a)}function o(t,n){if(!n)return P
var e,r,o,i,u=[]
for(C.lastIndex=0;C.lastIndex<n.length&&(e=C.exec(n));){if(r=e[1],o=t[r].ix,!o)throw new Error('mount:  transformers "'+r+'" not found')
e[2]?(i=JSON.parse("["+e[2].replace(/'/g,'"')+"]"),u.unshift(o.apply(null,i))):u.unshift(o)}return O.apply(null,u)}function i(t,n,e,r){var o=n.length
n.push(""),e.push({token:r[0],path:r[2],pipe:r[3],render:function(e){n[o]=H(e),t(n)}})}function u(t,n,e,r){var o=e.rtoken,u=o.lastIndex=0,a=o.exec(t)
if(!a)return F
for(var s=[],c=function(t){n(t.join(""))};a;)a.index>u&&s.push(t.slice(u,a.index)),i(c,s,r,a),u=o.lastIndex,a=o.exec(t)
t.length>u&&s.push(t.slice(u))}function a(t,n,e,r){for(var o;o=t.shift();)s(o,n,e,r)}function s(t,n,e,r){var o=n.getAttribute(e.attributePrefix+t)
return o?n.removeAttribute(e.attributePrefix+t):o=n.getAttribute(R[t]||t),o&&u(o,function(e){n.setAttribute(R[t]||t,e)},e,r)}function c(t,n,e,r){var o=e.rtoken,i=n.getAttribute(e.attributePrefix+t)||n.getAttribute(t)
if(i){o.lastIndex=0
var u=o.exec(i.trim())
u&&r.push({token:i.trim(),path:u[2],pipe:u[3],render:t in n?function(e){n[t]=!!e}:function(e){e?n.setAttribute(t,t):n.removeAttribute(t)}})}}function f(t,r,o){var i=r.rtoken,u=b.attribute("class",t)
if(u){var a=b.classes(t),s=u.replace(i,function(t,r,i,u,s){var c=""
return o.push({token:t,path:i,pipe:u,render:function(t){c&&B.test(c)&&e(a,c),t&&B.test(t)&&n(a,t),c=t}}),""})
t.setAttribute("class",s)}}function p(t,n,e){var r=k(n.attributePrefix+"value",t)||k("value",t),o=n.rtoken
o.lastIndex=0
var i=o.exec(r)
if(i)return Y(t,n,i,e)}function l(t,n){var e=r(n.transforms,n.transformers,t.pipe),o=S(t.render,e),i=g.throttle(o,requestAnimationFrame,cancelAnimationFrame)
t.update=o,t.push=i}function d(t,n,e){var r
return{shift:L,stop:function(){t.forEach(function(t){t.unbind&&t.unbind(),t.stop&&t.stop()})},push:function(i){if(r!==i){r=i,m&&console.groupCollapsed("update:",e)
var u,a=v(i)
return t.forEach(function(t){t.unbind&&t.unbind(),t.push||l(t,n),t.unbind=t.unbind||function(n){t.push.cancel&&t.push.cancel(),t.input.stop(),t.listen&&u()}
var e=t.input=y.observe(t.path,a),r=e.latest().shift()
void 0!==r&&(t.update||t.push)(r),e.each(t.push)
var i,s,c
t.listen&&(""===t.path&&console.warn('mount:  Cannot listen to path ""'),i=D(t.path,a),s=o(n.transformers,t.pipe),c=O(function(){return t.read()},s,i),u=t.listen(c),void 0===r&&c())}),m&&console.groupEnd(),i}}}}function h(t,n){n=x({},Q,n),m&&console.groupCollapsed("mount: ",t)
var e=[]
return z(t,n,e),m&&(console.table(e,["token","path","pipe"]),console.groupEnd()),d(e,n,t)}var m=t.DEBUG,g=t.Fn,v=t.Observable,y=t.Stream,b=t.dom,x=Object.assign,k=b.attribute,S=g.compose,w=g.curry,E=g.get,P=g.id,j=g.isDefined,A=Number.isNaN,F=g.nothing,L=g.noop,N=g.overload,O=g.pipe,q=g.set,D=g.setPath,I=g.toType,T=/\s+/,B=/\S/,M=/function(?:\s+\w+)?\s*(\([\w,\s]*\))/,Q={attributePrefix:"data-",mount:L,transforms:{},transformers:{},rtoken:/(\{\[)\s*(.*?)(?:\s*(\|.*?))?\s*(\]\})/g},C=/\|\s*([\w\-]+)\s*(?::([^|]+))?/g,R={viewbox:"viewBox"},J=w(function(t,n,e){return t.addEventListener(n,e),function(){t.removeEventListener("input",e)}},!0),H=N(I,{boolean:function(t){return t+""},function:function(t){return(t.name||"function")+(M.exec(t.toString())||[])[1]},number:function(t){return Number.isNaN(t)?"":Number.isFinite(t)?t+"":t<0?"-∞":"∞"},string:P,symbol:function(t){return t.toString()},undefined:function(){return""},object:function(t){return t?JSON.stringify(t):""},default:JSON.stringify}),U={1:function(t,n,e){for(var r,o=t.childNodes,i=-1;r=o[++i];)n.mount(r,n,e)||z(r,n,e)
f(t,n,e),a(["id","title","style"],t,n,e),K(t,n,e)},3:function(t,n,e){u(t.nodeValue,q("nodeValue",t),n,e)},8:L,9:function(t,n,e){for(var r,o=t.childNodes,i=-1;r=o[++i];)n.mount(r,n,e)||z(r,n,e)},10:L,11:function(t,n,e){for(var r,o=t.childNodes,i=-1;r=o[++i];)n.mount(r,n,e)||z(r,n,e)}},G={a:function(t,n,e){s("href",t,n,e)},button:function(t,n,e){c("disabled",t,n,e)},input:function(t,n,e){c("disabled",t,n,e),c("required",t,n,e),s("name",t,n,e),W(t,n,e),p(t,n,e)},img:function(t,n,e){s("alt",t,n,e)},label:function(t,n,e){s("for",t,n,e)},option:function(t,n,e){c("disabled",t,n,e),s("value",t,n,e)},select:function(t,n,e){c("disabled",t,n,e),c("required",t,n,e),s("name",t,n,e),p(t,n,e)},textarea:function(t,n,e){c("disabled",t,n,e),c("required",t,n,e),s("name",t,n,e),p(t,n,e)},time:function(t,n,e){a(["datetime"],t,n,e)},svg:function(t,n,e){a(["viewbox"],t,n,e)},g:function(t,n,e){a(["transform"],t,n,e)},path:function(t,n,e){a(["d","transform"],t,n,e)},line:function(t,n,e){a(["x1","x2","y1","y2","transform"],t,n,e)},rect:function(t,n,e){a(["x","y","width","height","rx","ry","transform"],t,n,e)},text:function(t,n,e){a(["x","y","dx","dy","text-anchor"],t,n,e)},use:function(t,n,e){a(["href","transform"],t,n,e)},default:L},V={date:function(t,n,e){a(["min","max","step"],t,n,e)},number:function(t,n,e){a(["min","max","step"],t,n,e)},range:function(t,n,e){a(["min","max","step"],t,n,e)},time:function(t,n,e){a(["min","max","step"],t,n,e)},checkbox:function(){},radio:function(){},default:L},X={checkbox:function(t,n,e,r){r.push({node:t,token:e[0],path:e[2],pipe:e[3],read:function(){return j(t.getAttribute("value"))?t.checked?t.value:void 0:t.checked},render:function(n){t.checked=j(t.getAttribute("value"))?n===t.value:n===!0},listen:J(t,"change")})},radio:function(t,n,e,r){r.push({node:t,token:e[0],path:e[2],pipe:e[3],read:function(){if(t.checked)return!j(t.getAttribute("value"))||t.value},render:function(n){t.checked=j(t.getAttribute("value"))?n===t.value:n===!0},listen:J(t,"change")})},number:function(t,n,e,r){r.push({node:t,token:e[0],path:e[2],pipe:e[3],read:function(){return t.value?parseFloat(t.value):void 0},render:function(n){n!==parseFloat(t.value)&&(t.value="number"!=typeof n||A(n)?"":n)},listen:J(t,"input")})},range:function(t,n,e,r){r.push({node:t,token:e[0],path:e[2],pipe:e[3],read:function(){return t.value?parseFloat(t.value):void 0},render:function(n){n!==parseFloat(t.value)&&(t.value="number"!=typeof n||A(n)?"":n)},listen:J(t,"input")})},default:function(t,n,e,r){r.push({node:t,token:e[0],path:e[2],pipe:e[3],read:function(){return t.value},render:function(n){n!==t.value&&(t.value="string"==typeof n?n:"")},listen:J(t,"input")})}},z=N(E("nodeType"),U),K=N(b.tag,G),W=N(E("type"),V),Y=N(E("type"),X)
h.types=U,h.tags=G,h.inputs=V,h.mountAttribute=s,h.mountBoolean=c,h.mountInput=W,h.mountValue=p,h.mountName=function(t,n,e){var r=t.name,o=n.rtoken
o.lastIndex=0
var i=o.exec(r)
if(i)return Y(t,n,i,e)},t.mount=h}(this),function(t){t.console&&t.console.log&&console.log("Sparky      - https://github.com/cruncher/sparky")}(this),function(t){"use strict"
function n(t,n){for(var e=[],r=-1;t[++r];)e.push(c(t[r],n))
return{stop:function(){return e.forEach(d("stop",arguments))},push:function(){return e.forEach(d("push",arguments))}}}function e(t){return t.replace(/\//g,"\\/")}function r(t,i,c){function f(){return k=!1,{fn:v}}function p(){b.attributePrefix=r.attributePrefix,b.transforms=r.transforms,b.transformers=r.transformers,!o||c&&c.suppressLogs||console.groupCollapsed("Sparky:",t),E=n(S,b),w.each(E.push),!o||c&&c.suppressLogs||console.groupEnd()}function l(){var t=v.match(y)
if(!t)return S.continue=h,p(),S
var n=r.fn[t[1]]
if(!n)throw new Error('Sparky: fn "'+t[1]+'" not found in Sparky.fn')
var e=t[2]?JSON.parse("["+t[2].replace(/'/g,'"')+"]"):m
return v=v.slice(t[0].length),w=n.call(S,g,w,e)||w,k&&l()}function d(t,n){this.shift=function(){var t
if(void 0!==i)return t=u(i),i=void 0,t},this.push=function(){i=arguments[arguments.length-1],t("push")},this.stop=function(){w.stop&&w.stop!==S.stop&&w.stop(),E.stop&&E.stop(),n(i?1:0)}}if(!r.prototype.isPrototypeOf(this))return new r(t,i,c)
var g=(++x,"string"==typeof t?document.querySelector(e(t)):t),v=c&&c.fn||s.attribute(r.attributePrefix+"fn",g)||"",k=!0,S=this,w=this,E=m
this[0]=g,this.length=1,a.call(this,d),this.interrupt=f,this.continue=l,l()}var o=t.DEBUG,i=t.Fn,u=t.Observable,a=t.Stream,s=t.dom,c=t.mount,f=Object.assign,p=i.deprecate,l=i.getPath,d=i.invoke,h=i.noop,m=i.nothing,g=s.tag,v=s.preventDefault,y=/\s*([-\w]+)(?:\s*:\s*((?:"[^"]*"|'[^']*'|[\w-\[\]]*)(?:\s*,\s*(?:"[^"]*"|'[^']*'|[\w-\[\]]*))*))?/,b={mount:function(t,n,e){var o=s.attribute(r.attributePrefix+"fn",t)
if(o){var i=new r(t,void 0,{fn:o,suppressLogs:!0})
return i.token=o,i.path="",e.push(i),!0}}},x=0
r.prototype=a.prototype,f(r,{attributePrefix:"sparky-",fn:{find:function(n,e,r){var o=l(r[0],t)
return o?i.of(l(r[0],t)):(console.warn("Sparky: scope:path – no object at path "+r[0]),i.of())},scope:i.deprecate(function(t,n,e){return r.fn.find.apply(this,arguments)},"Deprecated Sparky fn scope:path renamed find:path"),get:function(t,n,e){return n.map(l(e[0]))},stop:function(t,n){console.log(this.interrupt(),t,n)},ignore:p(function(t,n){console.log(this.interrupt(),t,n)},'Sparky: fn "ignore" renamed "stop".'),prevent:function(t,n,e){t.addEventListener(e[0],v),this.then(function(){t.removeEventListener(e[0],v)})},log:function(t,n){function e(n){console.group("Sparky: scope",t),console.log("data ",r.data),console.log("scope",n),console.log("fn   ",r.fn),console.groupEnd("---")}var r=this
return console.group("Sparky: run  ",t),console.log("data ",r.data),console.groupEnd("---"),n.tap(e)}},transforms:{},MarkerNode:function(t){if(!o)return s.create("text","")
var n=t&&t.getAttribute(r.attributePrefix+"fn")
return s.create("comment",g(t)+(n?" "+r.attributePrefix+'-fn="'+n+'"':""))}}),Object.defineProperties(r,{rtoken:{get:function(){return b.rtoken},set:function(t){b.rtoken=t},enumerable:!0,configurable:!0}}),t.Sparky=r}(this),Sparky.nodeToString=Fn.id,function(t){var n=t.Sparky
!!(document.all&&document.compatMode||t.navigator.msPointerEnabled)
n.fn.log=function(t,n){function e(n){console.log("Sparky node:",t,"scope:",n)}return n.tap(e)}}(this),function(t){"use strict"
var n=Object.assign,e=t.dom,r=t.Sparky
n(r.fn,{"show-on-scope":function(n,r){r.tap(function(){t.requestAnimationFrame(function(){e.classes(n).remove("sparky-hidden")})})}})}(this),function(t){"use strict"
var n=Object.assign,e=t.Sparky
n(e.fn,{html:function(t,n){n.tap(function(n){t.innerHTML=n})}})}(this),function(t){"use strict"
function n(t){t.preventDefault()}var e=t.Fn
Sparky.scope=function(t){return console.warn("Sparky: Sparky.scope() deprecated in favour of Sparky.getScope()"),Sparky.getScope(t)},Sparky.setScope=function(n,e){if(!t.jQuery)throw new Error(Sparky.attributePrefix+'fn="store-scope" requires jQuery.')
t.jQuery&&jQuery.data(n,"scope",e)},Sparky.getScope=function(n){if(!t.jQuery)throw new Error(Sparky.attributePrefix+'fn="store-scope" requires jQuery.')
return jQuery.data(n,"scope")},Object.assign(Sparky.fn,{prevent:function(t,e,r){t.addEventListener(r[0],n)},"ajax-on-submit":function(t,r,o){var i=(t.getAttribute("method")||"POST",t.getAttribute("action"))
if(!e.isDefined(i))throw new Error('Sparky: fn ajax-on-submit requires an action="url" attribute.')
var u
t.addEventListener("submit",n),r.tap(function(n){u&&t.removeEventListener(u),u=function(t){axios.post(i,n,{headers:{"X-CSRFToken":getCookie("csrftoken")}}).then(function(t){console.log(t)}).catch(function(t){console.log(t)})},t.addEventListener("submit",u)})},"expose-scope":function(t,n){n.tap(function(n){Sparky.setScope(t,n)})}})}(this),function(){"use strict"
Sparky.fn["x-scroll-slave"]=function(t){function n(){t.scrollLeft=e.scrollLeft}var e,r=t.getAttribute(Sparky.attributePrefix+"x-scroll-master")
this.on("dom-add",function(){if(e=document.getElementById(r),!e)throw console.error(t),new Error('Sparky scroll-x-slave: id="'+r+'" not in the DOM.')
e.addEventListener("scroll",n),n()}).on("destroy",function(){e&&e.removeEventListener("scroll",n)})},Sparky.fn["y-scroll-slave"]=function(t){function n(){t.scrollTop=r.scrollTop}var e=t.getAttribute(Sparky.attributePrefix+"y-scroll-master"),r=document.getElementById(e)
if(!r)throw console.error(t),new Error('Sparky scroll-x-slave: id="'+e+'" not in the DOM.')
r.addEventListener("scroll",n),n(),this.on("destroy",function(){r.removeEventListener("scroll",n)})}}(),function(t){var n=t.DEBUG,e=t.axios,r=t.jQuery,o=t.Fn,i=t.Sparky,u=t.Stream,a=Object.assign,s=t.fetch,c=o.get,f=c("data"),p={},l=e?function(t){return e.get(t).then(f)}:r?function(t){return r.get(t).then(f)}:s?function(t){return s(t).then(f)}:function(t){throw new Error('Sparky: no axios, jQuery or fetch found for request "'+t+'"')}
a(i.fn,{load:function(t,e,r){var o=r[0]
if(n&&!o)throw new Error("Sparky: "+i.attributePrefix+'fn="load:url" requires a url.')
var a=u.of()
return l(o).then(a.push).catch(function(t){console.warn(t)}),a},import:function(t,e,r){var o=r[0]
if(n&&!o)throw new Error("Sparky: "+i.attributePrefix+'fn="import:url" requires a url.')
if(p[o])return u.of(p[o])
var a=u.of()
return l(o).then(function(t){t&&(p[o]=t,a.push(t))}).catch(function(t){console.warn(t)}),a}})}(this),function(t){"use strict"
function n(t,n,e,r,o){if(!o)throw new Error("Sparky: template "+r+" not found.")
e.clone().take(1).each(function(e){var r=s.clone(o)
s.empty(n),s.append(n,r),t.continue()})}function e(t,e,r,o,i,u){var a,c
u||(a=m[o][""],c=a.getElementById(i),u=m[o][i]=a===document?s.fragmentFromId(i):c&&s.fragmentFromHTML(c.innerHTML)),n(t,e,r,i,u)}function r(t,e,r,o,i,u){var a,c
if(m[o]={"":u},!i)throw new Error("Sparky: template url has no hash id "+o)
c=u.getElementById(i),a=m[o][i]=c&&s.fragmentFromHTML(c.innerHTML),n(t,e,r,i,a)}var o=t.DEBUG,i=t.axios,u=t.jQuery,a=t.Fn,s=t.dom,c=t.Sparky,f=Object.assign,p=t.fetch,l=a.get,d=l("data"),h=s.parse("html"),m={"":{"":document}},g=i?function(t,n){return i.get(t).then(d).then(h)}:u?function(t,n){return u.get(t).then(d).then(h)}:p?function(t,n){return p(t).then(d).then(h).then(function(){})}:function(t,n){throw new Error('Sparky: no axios, jQuery or fetch found for request "'+t+'"')}
f(c.fn,{template:function(t,n,i){var u,a,s,f=i[0]
if(/#/.test(f)?(u=f.split("#"),a=u[0]||"",s=u[1]||""):(console.warn('Deprecated: Sparky template:url url should be a url or hash ref, actually an id: "'+f+'"'),a="",s=f),o&&!s)throw new Error("Sparky: "+c.attributePrefix+'fn="template:url" requires a url with a hash ref. "'+f+'"')
var p=this
return p.interrupt(),m[a]?e(p,t,n,a,s,m[a][s]):g(a).then(function(e){e&&r(p,t,n,a,s,e)}).catch(function(t){console.warn(t)}),n}})}(this),function(t){"use strict"
function n(t,n,e){var r=new a(t,n,e)
return r[h]=n,r}function e(t,e,r,o){for(var i,u,a,s=-1;++s<r.length;)if(u=r[s],i=o[s],!i||u!==i[h]){for(a=-1;o[++a]&&o[a][h]!==u;);i=a===o.length?n(f(t),u,e):o.splice(a,1)[0],o.splice(s,0,i)}}function r(t,n,e){for(;e.length>n.length;)s.forEach.call(e.pop().stop(),i.remove)
for(var r=e.length,o=-1,u=t.parentNode;o<r;)for(t=t?t.nextSibling:null;++o<r&&e[o][0]!==t;)u.insertBefore(e[o][0],t)}var o=t.Fn,i=t.dom,u=t.Observable,a=t.Sparky,s=Array.prototype,c=o.noop,f=i.clone,p=i.tag,l=u.observe,d=a.MarkerNode,h=Symbol("object")
a.fn.each=function(t,n,u){function s(t){var n=v?g.parentNode.value:void 0
e(h,m,t,f),r(g,t,f),v&&void 0!==n&&(g.parentNode.value=n)}var f=[],h=t.cloneNode(!0),m=this.interrupt(),g=d(t),v="option"===p(t),y=o.throttle(s,requestAnimationFrame,c)
h.removeAttribute(a.attributePrefix+"fn"),i.before(t,g),i.remove(t)
var b=c,x=n.latest().shift()
x&&l(x,"",s),n.each(function(t){b(),b=l(t,"",y)}),this.then(function(){y.cancel(),b()})}}(this),function(t){"use strict"
function n(t){for(var n="";t--;)n+=" "
return n}function e(t,n,e){for(var r=-1;++r<t.length&&t[r]<e;);if(0===r)return n[0]
if(r>=t.length)return l(n)
if(e===t[r])return n[r]
var o=(e-t[r-1])/(t[r]-t[r-1])
return o*(n[r]-n[r-1])+n[r-1]}var r=t.Fn,o=t.dom,i=t.Sparky,u=t.Time,a=Array.prototype,s=Object.assign,c=r.curry,f=r.get,p=r.isDefined,l=r.last
s(i.transformers={},{add:{tx:r.add,ix:c(function(t,n){return n-t})},decibels:{tx:r.todB,ix:r.toLevel},multiply:{tx:r.multiply,ix:c(function(t,n){return n/t})},degrees:{tx:r.toDeg,ix:r.toRad},radians:{tx:r.toRad,ix:r.toDeg},pow:{tx:r.pow,ix:c(function(t,n){return r.pow(1/t,n)})},exp:{tx:r.exp,ix:r.log},log:{tx:r.log,ix:r.exp},int:{tx:r.toFixed(0),ix:r.toInt},float:{tx:r.toFloat,ix:r.toString},boolean:{tx:Boolean,ix:r.toString},normalise:{tx:r.normalise,ix:r.denormalise},denormalise:{tx:r.denormalise,ix:r.normalise},floatformat:{tx:r.toFixed,ix:c(function(t,n){return parseFloat(n)})},interpolate:{tx:function(t){var n=a.map.call(arguments,f("0")),r=a.map.call(arguments,f("1"))
return function(t){return e(n,r,t)}},ix:function(t){var n=a.map.call(arguments,f("0")),r=a.map.call(arguments,f("1"))
return function(t){return e(r,n,t)}}}}),s(i.transforms,{add:r.add,append:r.append,contains:r.contains,diff:r.diff,equals:r.equals,factorise:r.factorise,gcd:r.gcd,get:r.get,getPath:r.getPath,intersect:r.intersect,invoke:r.invoke,is:r.is,lcm:r.lcm,limit:r.limit,max:r.max,min:r.min,mod:r.mod,not:r.not,percent:r.multiply(100),prepend:r.prepend,rest:r.rest,root:r.nthRoot,slugify:r.slugify,sort:r.sort,take:r.take,toCartesian:r.toCartesian,todB:r.todB,decibels:r.todB,toDeg:r.toDeg,toLevel:r.toLevel,toPolar:r.toPolar,toRad:r.toRad,toStringType:r.toStringType,typeof:r.toType,unique:r.unique,unite:r.unite,escape:o.escape,px:o.toPx,rem:o.toRem,timeformat:function(t,n){return n=n||document.documentElement.lang,function(e){return u(e).render(t,n)}},divide:c(function(t,n){if("number"==typeof n)return n/t}),"find-in":c(function(t,n){if(p(n)){var e=r.getPath(t,i.data)
return e&&e.find(n)}}),first:r.get(0),floatformat:c(function(t,n){return"number"==typeof n?Number.prototype.toFixed.call(n,t):p(n)?i.debug&&console.warn("Sparky: filter floatformat: "+t+" called on non-number "+n):""}),floor:function(t){return Math.floor(t)},"greater-than":c(function(t,n){return n>t}),invert:function(t){return"number"==typeof t?1/t:!t},join:c(function(t,n){return Array.prototype.join.call(n,t)}),json:function(t){return JSON.stringify(t)},last:function(t){return t[t.length-1]},"less-than":c(function(t,n){return n<t}),localise:c(function(t,n){var e=document.documentElement.lang,r={}
return p(t)&&(r.minimumFractionDigits=t,r.maximumFractionDigits=t),n.toLocaleString?n.toLocaleString(e,r):n}),lowercase:function(t){if("string"==typeof t)return String.prototype.toLowerCase.apply(t)},map:c(function(t,n,e){return e&&e.map(i.transforms[t](n))}),pluralise:c(function(t,n,e,r){if("number"==typeof r)return t=t||"",n=n||"s","fr"===e?r<2&&r>=0?t:n:1===r?t:n}),postpad:c(function(t,e){var r=p(e)?e.toString():"",o=r.length,i=parseInt(t,10)
return i===o?e:i>o?r+n(i-o):r.substring(0,i)}),prepad:c(function(t,n,e){var r=p(e)?e.toString():"",o=r.length,i=[]
return t-o<1?e:(i.length=0,i.length=t-o,i.push(r),i.join(n||" "))}),random:function(t){return t[Math.floor(Math.random()*t.length)]},reduce:c(function(t,n,e){return e&&e.reduce(r[t],n||0)}),replace:c(function(t,n,e){if("string"==typeof e)return e.replace(RegExp(t,"g"),n)}),round:c(function(t,n){return Math.round(n/t)*t}),slice:c(function(t,n,e){return"string"==typeof e?e.slice(t,n):Array.prototype.slice.call(e,t,n)}),striptags:function(){var t=/<(?:[^>'"]|"[^"]*"|'[^']*')*>/g
return function(n){return n.replace(t,"")}}(),switch:function(t){if("string"==typeof t&&(t=parseInt(t,10)),"number"==typeof t&&!Number.isNaN(t))return arguments[t+1]},translate:function(){var t={}
return function(n){var e=i.translations
if(!e)return t.missingTranslations||(console.warn("Sparky: Missing lookup object Sparky.translations"),t.missingTranslations=!0),n
var r=e[n]
return r?r:(t[n]||(console.warn('Sparky: Sparky.translations contains no translation for "'+n+'"'),t[n]=!0),n)}}(),truncatechars:c(function(t,n){return n.length>t?n.slice(0,t)+"…":n}),type:function(t){return typeof t},uppercase:function(t){if("string"==typeof t)return String.prototype.toUpperCase.apply(t)},yesno:c(function(t,n,e){return e?t:n})})}(this)
