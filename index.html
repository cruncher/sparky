<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="author" content="@stephband" />
	<meta name="description" content="" />
	<meta name="viewport" content="width=device-width" />

	<title>Sparky</title>

	<script>
		document.documentElement.className = 'js';
		//window.DEBUG = true;
	</script>

	<link rel="icon" type="image/png" href="images/favicon.png" />
	<link rel="apple-touch-icon" href="/apple-touch-icon.png" />

	<link rel="stylesheet" href="http://stephen.band/bolt/dist/bolt.min.css" />
	<link rel="stylesheet" href="../bolt/dist/bolt.min.css" />
	<link rel="stylesheet" href="fn/css/grid.css" />
	<link rel="stylesheet" href="fn/css/docs.css" />
	<link rel="stylesheet" href="fn/css/syntax-atom.css" />
	<link rel="stylesheet" href="fn/css/test.css" />
	<link rel="stylesheet" href="dom/css/dom.css" />
	<link rel="stylesheet" href="css/docs.css" />
	<link rel="stylesheet" href="css/test.css" />
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Mono:100,300,400,500,700" />

	<style>
body{
	color: #860048;
	color: #960051;
	color: #5d0d6f;

	color: ;
	background-color: #ddda27;
/*
	color: #bdbd9b;
	background-color: #23231b;
*/
	color: black;
	background-color: #d0cc25;

	background-color: #a7d819;
	background-color: #b2d01a;

	color: #2d2d2d;
	color: #272a2b;
	background-color: #b9d819;

	padding-top: 3.75rem;
}

.test-block {
	color: #b9d819;
	background-color: #272a2b;
	min-height: 2000px;
}

code {
	background-color: #cfe84a;
}

.toggle-block.active::before {
	background-color: rgba(39, 42, 43, 0.5);
}

script[type="text"] {
	white-space: pre;
	border-width: 0;
	padding: 0;
	line-height: inherit;
	tab-size: 2;
	margin-left: -4.875rem;
	margin-top: -1.5rem;
	margin-bottom: -1.5rem;
	background-color: transparent;
}

line { stroke-width: 1; stroke: inherit; }
	</style>
</head>

<body>
	<header class="grid-block block grid-1/1 @2-span-1/1" id="header">
		<div class="block grid-1/1 @2-grid-7/15 @2-grid-left-1/15 @3-grid-left-1/9 bottom-align" sparky-fn="import:'package.json'">
			<h1>{[title]}
			<span class="text-6">{[version]}</span></h1>

			<p class="">
			Sparky is a live data binding DOM templating engine that enhances HTML
			with declarative tags and composeable templates, and batches
			rendering changes to the browser frame rate.</p>
		</div

		><img class="block @2-grid-3/15 @2-grid-left-1/15 @3-grid-left-1/9 bottom-align" src="images/sparky-logo-dark.svg" />
	</header>

	<div class="spaced-grid-block grid-block block grid-1/1 @2-span-1/1">
		<article class="grid-block block span-1/1 @2-span-7/15 @2-span-left-1/15 @3-span-3/9 @3-span-left-1/9">
			<h2 class="block">Sparky(selector)</h2>

			<div class="block grid-1/1">
				<pre class="text-5"><code>Sparky('#id');</code></pre>
				<p>Mount selected element as a Sparky template.</p>
				<pre class="text-5"><code>Sparky('#id', data);</code></pre>
				<p>Mount selected element as a template and render it
				immediately using <code>data</code> as scope.</p>
				<!--pre>Sparky('#id', data, settings);</pre>
				<p>Mount selected element as a template also passing in a
				settings object. You will not normally require this.</p-->
				<pre class="text-5"><code>var sparky = Sparky('#id');</code></pre>
				<p>The constructor returns a <code>sparky</code> object that
				is both an array-like object of DOM nodes and a pushable
				stream of data.</p>
			</div>
		</article

		><article class="grid-block block span-1/1 @2-span-4/15 @2-span-left-1/15 @3-span-2/9 @3-span-left-1/9">
			<h3 class="block">methods.</h3>

			<div class="toggleable toggle-block block span-1/1 @1-span-1/1 @2-span-1/1 @3-span-1/1" id="sparky-push">
				<h4 class="text-5 dot-indent"><a href="#sparky-push"><code>.push(data)</code></a></h4>
				<p>Push data into <code>sparky</code> to be rendered as template
				scope on the next animation frame.</p>
			</div>

			<div class="toggleable toggle-block block span-1/1 @1-span-1/1 @2-span-1/1 @3-span-1/1" id="sparky-stop">
				<h4 class="text-5 dot-indent"><a href="#sparky-stop"><code>.stop()</code></a></h4>
				<p>Unmount the template, disconnecting its tags from scope
				updates. Tags and nodes are left in the DOM in their stopped state.</p>
				<p class="tip-block block">Tip: you could remove them with <code>sparky.forEach(dom.remove)</code>.</p>
			</div>

			<div class="toggleable toggle-block block span-1/1 @1-span-1/1 @2-span-1/1 @3-span-1/1" id="sparky-then">
				<h4 class="text-5 dot-indent"><a href="#sparky-then"><code>.then(fn)</code></a></h4>
				<p>Call <code>fn</code> after <cade>sparky</cade> is stopped.</p>
			</div>

			<h3 class="block">properties.</h3>

			<div class="toggleable toggle-block block span-1/1 @1-span-1/1 @2-span-1/1 @3-span-1/1" id="sparky-status">
				<h4 class="text-5 dot-indent"><a href="#sparky-status"><code>.status</code></a></h4>
				<p>Sparky is in one of two states:
				<code>"active"</code> or <code>"done"</code>.</p>
			</div>
		</article

		><article class="grid-block block span-1/1 @2-span-7/15 @2-span-left-1/15 @3-span-3/9 @3-span-left-1/9" style="display: block">
			<h2 class="block">Sparky templates</h2>

			<div class="block grid-1/1">
				<p>Sparky templates are made of plain old HTML enhanced with
				<strong>functions</strong> and <strong>tags</strong>.</p>

				<p class="text-5"><code><script type="text">
				<p sparky-fn="import:'package.json'">Latest: {[version|prepend:'v']}</p>
				</script></code>
				<svg viewbox="0 0 1 0.06" style="margin-top: 0.25rem;">
					<line class="black-stroke" x1="0.24" y1="0" x2="0.15" y2="0.06"></line>
					<line class="black-stroke" x1="0.40" y1="0" x2="0.37" y2="0.06"></line>
					<line class="black-stroke" x1="0.78" y1="0" x2="0.79" y2="0.06"></line>
					<line class="black-stroke" x1="0.92" y1="0" x2="0.95" y2="0.06"></line>
				</svg>
				<span>function</span><span>parameter</span><span>path</span><span>transform</span>
			</p>

				<p>The <strong>import</strong> function imports 'package.json' and
				pushes it into scope, then Sparky takes the 'version' property,
				prepends it with 'v' and replaces the tag with the text. The
				result?</p>

				<p sparky-fn="import:'package.json'" id="template-demo-1">
					Latest: {[version|prepend:'v']}
				</p>
			</div>
		</article

		><article class="grid-block block span-1/1 @2-span-7/15 @2-span-left-1/15 @3-span-3/9 @3-span-left-1/9">
			<h3 class="block">sparky-fn</h3>

			<div class="block grid-1/1">
				<p>Functions, declared in the <code>sparky-fn</code> attribute, are
				run before the template is mounted. They have two parts, a
				<strong>name</strong> followed by 0 or more
				<strong>parameters</strong>.</p>

				<p class="text-5"><code><script type="text">
				sparky-fn="each"
				sparky-fn="import:'package.json'"
				</script></code></p>

				<p>Functions are view-controllers with responsibility for
				getting data and spitting out scopes, and can listen to and
				mutate nodes. They're powerful. You're going to want to write
				your own. But first, let's have a look at some built-ins.</p>

				<h4>Getting scope</h4>
				<p>We have already seen the <strong>import</strong> function in
				action. <strong>load</strong> also loads data, but with a subtle
				difference: where <strong>import</strong> makes a single request
				and creates a single data object (per url), distributing it to
				other imports, <strong>load</strong> makes makes a new request
				and creates a new data object each time.</p>
				<p>The <strong>find</strong> function takes a JS path (in dot
				notation) and looks for data at that path in the global object
				(<code>window</code>).</p>
				<p>The <strong>get</strong> function takes a JS path and looks
				for data at that path in the current scope.</p>

				<!--, but the example has a problem: if package.json took a
				long time to import – if the user has a dodgy connection or no JS
				at all – we would see unrendered template before Sparky
				updates the node. It would be nice to put something useful there
				while waiting.</p-->

				<h4>Composing templates</h4>
				<p>Sparky has a function for cloning and inserting a template
				into a node: the <strong>template</strong> function. It performs
				the import only when the first scope is available, so it can be
				used to provide initial content.</p>

				<p class="text-5"><code><script type="text">
				<p sparky-fn="import:'package.json' template:'latest'">
					Version info at github.com/cruncher/sparky.
				</p>

				<template id="latest">
				    Latest: {[version]}
				</template>
				</script></code></p>

				<h4>Looping over arrays</h4>
				<p>The third function worth a special mention is
				<strong>each</strong>. It copies and remounts the node for each
				object found in scope, where scope must be an array or array-like.
				</p>

				<p class="text-5"><code><script type="text">
				<p sparky-fn="import:'package.json' get:'keywords' each">{[.]}</p>
				</script></code></p>

				<p>Result:</p>

				<p sparky-fn="import:'package.json' get:'keywords' each" id="template-demo-2">{[.]}</p>
			</div>
		</article

		><article class="grid-block block span-1/1 @2-span-4/15 @2-span-left-1/15 @3-span-2/9 @3-span-left-1/9">
			<h3 class="block">functions.</h3>

			<div class="toggleable toggle-block block span-1/1 @1-span-1/1 @2-span-1/1 @3-span-1/1" id="fn-each">
				<h3 class="text-5"><a href="#fn-each"><code class="js">each</code></a></h3>
				<p>Where scope is an array or array-like, duplicates the element for each object in scope.</p>

				<code class="block js">
					<div class="line" data-screen-row="540"><span class="null"><span class="syntax--text syntax--html syntax--django"><span class="syntax--meta syntax--tag syntax--block syntax--any syntax--html"><span class="syntax--punctuation syntax--definition syntax--tag syntax--begin syntax--html">&lt;</span><span class="syntax--entity syntax--name syntax--tag syntax--block syntax--any syntax--html">ul</span> <span class="syntax--entity syntax--other syntax--attribute-name syntax--html">sparky-fn</span>=<span 	class="syntax--string syntax--quoted syntax--double syntax--html"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--html">"</span>import:'example.json'<span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--html">"</span></span><span class="syntax--punctuation syntax--definition syntax--tag syntax--end syntax--html">&gt;</span></span><span class="invisible-character eol"> </span></span></span></div><div class="line" 	data-screen-row="541"><span class="null"><span class="syntax--text syntax--html syntax--django"><span class="invisible-character hard-tab leading-whitespace">    </span><span class="syntax--meta syntax--tag syntax--inline syntax--any syntax--html"><span class="syntax--punctuation syntax--definition syntax--tag syntax--begin syntax--html">&lt;</span><span class="syntax--entity syntax--name syntax--tag syntax--inline syntax--any syntax--html">li</span> <span class="syntax--entity syntax--other 	syntax--attribute-name syntax--html">sparky-fn</span>=<span class="syntax--string syntax--quoted syntax--double syntax--html"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--html">"</span>get:'path.to.array' each<span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--html">"</span></span><span class="syntax--punctuation syntax--definition syntax--tag syntax--end syntax--html">&gt;</span></span><span class="syntax--entity 	syntax--other syntax--django syntax--tagbraces">{[</span><span class="syntax--string syntax--unquoted syntax--django syntax--template syntax--tag">name</span><span class="syntax--entity syntax--other syntax--django syntax--tagbraces">]}</span><span class="syntax--meta syntax--tag syntax--inline syntax--any syntax--html"><span class="syntax--punctuation syntax--definition syntax--tag syntax--begin syntax--html">&lt;/</span><span class="syntax--entity syntax--name syntax--tag syntax--inline 	syntax--any syntax--html">li</span><span class="syntax--punctuation syntax--definition syntax--tag syntax--end syntax--html">&gt;</span></span><span class="invisible-character eol"> </span></span></span></div><div class="line" data-screen-row="542"><span class="null"><span class="syntax--text syntax--html syntax--django"><span class="syntax--meta syntax--tag syntax--block syntax--any syntax--html"><span class="syntax--punctuation syntax--definition syntax--tag syntax--begin 	syntax--html">&lt;/</span><span class="syntax--entity syntax--name syntax--tag syntax--block syntax--any syntax--html">ul</span><span class="syntax--punctuation syntax--definition syntax--tag syntax--end syntax--html">&gt;</span></span><span class="invisible-character eol"> </span></span></span></div>
				</code>

				<ul sparky-fn="import:'example.json'">
					<li sparky-fn="get:'path.to.array' each">{[name]}</li>
				</ul>
			</div>

			<div class="toggleable toggle-block block span-1/1 @1-span-1/1 @2-span-1/1 @3-span-1/1" id="fn-scope">
				<h3 class="text-5"><a href="#fn-scope"><code class="js">find:path</code></a></h3>
				<p>Get an object from <code>path</code> in the global scope
				(<code>window</code>) and push it to the template scope.</p>
			</div>

			<div class="toggleable toggle-block block span-1/1 @1-span-1/1 @2-span-1/1 @3-span-1/1" id="fn-get">
				<h3 class="text-5"><a href="#fn-get"><code class="js">get:path</code></a></h3>
				<p>Gets the value of <code>path</code> of the current scope.</p>
				<code class="block js">

					<div class="line" data-screen-row="552"><span class="null"><span class="syntax--text syntax--html syntax--django"><span class="syntax--meta syntax--tag syntax--block syntax--any syntax--html"><span class="syntax--punctuation syntax--definition syntax--tag syntax--begin syntax--html">&lt;</span><span class="syntax--entity syntax--name syntax--tag syntax--block syntax--any syntax--html">pre</span> <span class="syntax--entity syntax--other syntax--attribute-name 	syntax--html">sparky-fn</span>=<span class="syntax--string syntax--quoted syntax--double syntax--html"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--html">"</span>import:'example.json' get:'path.to.array[0]'<span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--html">"</span></span><span class="syntax--punctuation syntax--definition syntax--tag syntax--end syntax--html">&gt;</span></span><span class="invisible-character 	eol"> </span></span></span></div><div class="line" data-screen-row="553"><span class="null"><span class="syntax--text syntax--html syntax--django">name: <span class="syntax--meta syntax--scope syntax--django syntax--template syntax--tag"><span class="syntax--entity syntax--other syntax--django syntax--tagbraces">{[</span><span class="syntax--string syntax--unquoted syntax--django syntax--template syntax--tag">name</span><span class="syntax--entity syntax--other syntax--django 	syntax--tagbraces">]}</span></span><span class="invisible-character eol"> </span></span></span></div><div class="line" data-screen-row="554"><span class="null"><span class="syntax--text syntax--html syntax--django"><span class="invisible-character hard-tab leading-whitespace"></span>id:   <span class="syntax--meta syntax--scope syntax--django syntax--template syntax--tag"><span class="syntax--entity syntax--other syntax--django syntax--tagbraces">{[</span><span class="syntax--string 	syntax--unquoted syntax--django syntax--template syntax--tag">id</span><span class="syntax--entity syntax--other syntax--django syntax--tagbraces">]}</span></span><span class="invisible-character eol"> </span></span></span></div><div class="line" data-screen-row="555"><span class="null"><span class="syntax--text syntax--html syntax--django"><span class="syntax--meta syntax--tag syntax--block syntax--any syntax--html"><span class="syntax--punctuation syntax--definition syntax--tag syntax--begin 	syntax--html">&lt;/</span><span class="syntax--entity syntax--name syntax--tag syntax--block syntax--any syntax--html">pre</span><span class="syntax--punctuation syntax--definition syntax--tag syntax--end syntax--html">&gt;</span></span><span class="invisible-character eol"> </span></span></span></div>

				</code>

<pre sparky-fn="import:'example.json' get:'path.to.array[0]'">
name: {[name]}
id:   {[id]}
</pre>

				</code>
			</div>

			<div class="toggleable toggle-block block span-1/1 @1-span-1/1 @2-span-1/1 @3-span-1/1" id="fn-import">
				<h3 class="text-5"><a href="#fn-import"><code class="js">import:url</code></a></h3>
				<p>Looks in the object cache for data for that <code>url</code>,
				or loads JSON data from the <code>url</code> and caches it,
				pushing that data to the template scope.</p>
			</div>

			<div class="toggleable toggle-block block span-1/1 @1-span-1/1 @2-span-1/1 @3-span-1/1" id="fn-load">
				<h3 class="text-5"><a href="#fn-load"><code class="js">load:url</code></a></h3>
				<p>Loads JSON data from <code>url</code> and pushes it to the
				template scope. A new data object is created per load request.</p>
			</div>

			<div class="toggleable toggle-block block span-1/1 @1-span-1/1 @2-span-1/1 @3-span-1/1" id="fn-html">
				<h3 class="text-5"><a href="#fn-html"><code class="js">html</code></a></h3>
				<p>When scope is a string, replaces the content of the current element with scope by setting <code>.innerHTML</code>.</p>
			</div>

			<div class="toggleable toggle-block block span-1/1 @1-span-1/1 @2-span-1/1 @3-span-1/1" id="fn-template">
				<h3 class="text-5"><a href="#fn-template"><code class="js">template:url</code></a></h3>
				<p>Replaces the content of the element with the cloned,
				mounted content of the element referenced by <code>url</code>.
				Usually this is a hashref for a
				<code class="text-5">&lt;template&gt;</code> in the same
				document, but Sparky will also import the contents of nodes
				in external documents.</p>
				<p>Note that the <i>original</i> content of the element
				is never mounted.</p>
			</div>

			<div class="toggleable toggle-block block span-1/1 @1-span-1/1 @2-span-1/1 @3-span-1/1" id="fn-log">
				<h3 class="text-5"><a href="#fn-log"><code class="js">log</code></a></h3>
				<p>For debugging. Logs node and scopes to the console.</p>
			</div>

			<div class="toggleable toggle-block block span-1/1 @1-span-1/1 @2-span-1/1 @3-span-1/1" id="fn-post-on-submit">
				<h3 class="text-5"><a href="#fn-post-on-submit"><code class="js">post-on-submit</code></a></h3>
				<p>Posts the content of a form as JSON.</p>
			</div>

			<div class="toggleable toggle-block block span-1/1 @1-span-1/1 @2-span-1/1 @3-span-1/1" id="fn-prevent">
				<h3 class="text-5"><a href="#fn-prevent"><code class="js">prevent:type</code></a></h3>
				<p>Calls <code>.preventDefault()</code> on events of
				<code>type</code>.</p>
			</div>

			<div class="toggleable toggle-block block span-1/1 @1-span-1/1 @2-span-1/1 @3-span-1/1" id="fn-stop">
				<h3 class="text-5"><a href="#fn-stop"><code class="js">stop</code></a></h3>
				<p>Stops sparkifying the element. No more functions are run, and
				the contents of the element are not parsed.</p>
				<p>Use <code>stop</code> to ignore blocks of static HTML inside
				a Sparky template.</p>
			</div>
		</article

		><article class="grid-block block span-1/1 @2-span-7/15 @2-span-left-1/15 @3-span-3/9 @3-span-left-1/9">
			<h3 class="block">{[tag]}</h3>

			<div class="block grid-1/1">
				<p>Tags, found in the attributes and content of the node and
				its descendants, are rendered with values from the scope.</p>

				<pre>{[name|truncate:6|uppercase]}</pre>

				<p>A tag may have three parts. A <strong>path</strong>, followed
				by any number of pipe-seperated <strong>transfoms</strong> and their
				<strong>parameters</strong>.</p>
			</div>
		</article

		><article class="grid-block block span-1/1 @2-span-4/15 @2-span-left-1/15 @3-span-2/9 @3-span-left-1/9">
			<h3 class="block">transforms.</h3>

			<!-- Objects -->

			<div class="toggleable toggle-block block span-1/1 @1-span-1/1 @2-span-1/1 @3-span-1/1" id="tn-get">
				<h3 class="text-5"><a href="#tn-get"><code class="js">get:name</code></a></h3>
				<p>Get property <code>name</code> from value.</p>
			</div>

			<div class="toggleable toggle-block block span-1/1 @1-span-1/1 @2-span-1/1 @3-span-1/1" id="tn-invoke">
				<h3 class="text-5"><a href="#tn-invoke"><code class="js">invoke:name,params</code></a></h3>
				<p>Returns the result of invoking method <code>name</code> with <code>params</code> on an object.</p>
			</div>

			<div class="toggleable toggle-block block span-1/1 @1-span-1/1 @2-span-1/1 @3-span-1/1" id="tn-is">
				<h3 class="text-5"><a href="#tn-is"><code class="js">is:n</code></a></h3>
				<p>Returns the (boolean) result of a strict equality check between <code>n</code> and value.</p>
			</div>

			<div class="toggleable toggle-block block span-1/1 @1-span-1/1 @2-span-1/1 @3-span-1/1" id="tn-type">
				<h3 class="text-5"><a href="#tn-type"><code class="js">type</code></a></h3>
				<p>Returns <code>typeof value</code>.</p>
			</div>

			<!-- Strings -->

			<div class="toggleable toggle-block block span-1/1 @1-span-1/1 @2-span-1/1 @3-span-1/1" id="tn-append">
				<h3 class="text-5"><a href="#tn-append"><code class="js">append:string</code></a></h3>
				<p>Appends <code>string</code> to value.</p>
			</div>

			<div class="toggleable toggle-block block span-1/1 @1-span-1/1 @2-span-1/1 @3-span-1/1" id="tn-lowercase">
				<h3 class="text-5"><a href="#tn-lowercase"><code class="js">lowercase</code></a></h3>
				<p>Converts value to lowercase.</p>
			</div>

			<div class="toggleable toggle-block block span-1/1 @1-span-1/1 @2-span-1/1 @3-span-1/1" id="tn-postpad">
				<h3 class="text-5"><a href="#tn-postpad"><code class="js">postpad:n,string</code></a></h3>
				<p>Appends <code>string</code> to value to output a string of length <code>n</code>.</p>
			</div>

			<div class="toggleable toggle-block block span-1/1 @1-span-1/1 @2-span-1/1 @3-span-1/1" id="tn-prepad">
				<h3 class="text-5"><a href="#tn-prepad"><code class="js">prepad:n,string</code></a></h3>
				<p>Prepends <code>string</code> to value to output a string of length <code>n</code>.</p>
			</div>

			<div class="toggleable toggle-block block span-1/1 @1-span-1/1 @2-span-1/1 @3-span-1/1" id="tn-prepend">
				<h3 class="text-5"><a href="#tn-prepend"><code class="js">prepend:string</code></a></h3>
				<p>Prepends <code>string</code> to value.</p>
			</div>

			<div class="toggleable toggle-block block span-1/1 @1-span-1/1 @2-span-1/1 @3-span-1/1" id="tn-slugify">
				<h3 class="text-5"><a href="#tn-slugify"><code class="js">slugify</code></a></h3>
				<p>Outputs slug of value.</p>
			</div>

			<div class="toggleable toggle-block block span-1/1 @1-span-1/1 @2-span-1/1 @3-span-1/1" id="tn-translate">
				<h3 class="text-5"><a href="#tn-translate"><code class="js">translate</code></a></h3>
				<p>Looks up value in <code>Sparky.translations</code> and outputs it. If a translation does
				not	exist, warns the console and outputs the original value.</p>
			</div>

			<div class="toggleable toggle-block block span-1/1 @1-span-1/1 @2-span-1/1 @3-span-1/1" id="tn-uppercase">
				<h3 class="text-5"><a href="#tn-uppercase"><code class="js">uppercase</code></a></h3>
				<p>Converts value to uppercase.</p>
			</div>

			<!-- Numbers -->

			<div class="toggleable toggle-block block span-1/1 @1-span-1/1 @2-span-1/1 @3-span-1/1" id="tn-decibels">
				<h3 class="text-5"><a href="#tn-decibels"><code class="js">decibels</code></a></h3>
				<p>Converts value to decibels.</p>
			</div>

			<div class="toggleable toggle-block block span-1/1 @1-span-1/1 @2-span-1/1 @3-span-1/1" id="tn-degrees">
				<h3 class="text-5"><a href="#tn-degrees"><code class="js">degrees</code></a></h3>
				<p>Converts a numeric value from radians to degrees.</p>
			</div>

			<div class="toggleable toggle-block block span-1/1 @1-span-1/1 @2-span-1/1 @3-span-1/1" id="tn-denormalise">
				<h3 class="text-5"><a href="#tn-denormalise"><code class="js">denormalise:min,max</code></a></h3>
				<p>Converts numeric values in the range <code>0-1</code> to
				the range <code>min-max</code>.</p>
				<p>See also <code><a href="#tn-normalise">normalise:min,max</a></code>.</p>
			</div>

			<div class="toggleable toggle-block block span-1/1 @1-span-1/1 @2-span-1/1 @3-span-1/1" id="tn-floatformat">
				<h3 class="text-5"><a href="#tn-floatformat"><code class="js">floatformat:n</code></a></h3>
				<p>Converts numeric values to strings with <code>n</code> decimal places.</p>
			</div>

			<div class="toggleable toggle-block block span-1/1 @1-span-1/1 @2-span-1/1 @3-span-1/1" id="tn-add">
				<h3 class="text-5"><a href="#tn-add"><code class="js">localise:n</code></a></h3>
				<p>Returns localised number string with <code>n</code> decimal places.</p>
			</div>

			<div class="toggleable toggle-block block span-1/1 @1-span-1/1 @2-span-1/1 @3-span-1/1" id="tn-normalise">
				<h3 class="text-5"><a href="#tn-normalise"><code class="js">normalise:min,max</code></a></h3>
				<p>Converts numeric values in the range <code>min-max</code> to
				the range <code>0-1</code>.</p>
				<p>See also <code><a href="#tn-denormalise">denormalise:min,max</a></code>.</p>
			</div>

			<div class="toggleable toggle-block block span-1/1 @1-span-1/1 @2-span-1/1 @3-span-1/1" id="tn-add">
				<h3 class="text-5"><a href="#tn-add"><code class="js">pluralise:str1,str2,lang</code></a></h3>
				<p>Takes a number and outputs <code>str1</code> or <code>str2</code> depending on whether
				that number is considered plural in <code>lang</code>. Currently there are 4 languages
				supported out-of-the-box – EN, DE, FR, IT – but it is easy to add more.</p>
			</div>

			<!-- Dates and times -->

			<div class="toggleable toggle-block block span-1/1 @1-span-1/1 @2-span-1/1 @3-span-1/1" id="tn-date">
				<h3 class="text-5"><a href="#tn-date"><code class="js">date:format</code></a></h3>
				<p>Maps either JSON date strings or JS date objects to
				human-readable date strings in a format defined by
				<code>format</code>, where format describes the output in
				a Django/PHP-style date format strings.</p>
				<p>Deprecated, will remain supported as an add-on.</p>
			</div>

			<div class="toggleable toggle-block block span-1/1 @1-span-1/1 @2-span-1/1 @3-span-1/1" id="tn-add">
				<h3 class="text-5"><a href="#tn-add"><code class="js">dateformat:format</code></a></h3>
				<p>Maps either JSON date strings or JS date objects to
				human-readable date strings in a format defined by
				<code>format</code></p>
			</div>

			<div class="toggleable toggle-block block span-1/1 @1-span-1/1 @2-span-1/1 @3-span-1/1" id="tn-add">
				<h3 class="text-5"><a href="#tn-add"><code class="js">timeformat:format</code></a></h3>
				<p>Converts Date or JSON time string to string in <code>format</code>.</p>
			</div>

			<div class="toggleable toggle-block block span-1/1 @1-span-1/1 @2-span-1/1 @3-span-1/1" id="tn-yesno">
				<h3 class="text-5"><a href="#tn-yesno"><code class="js">yesno:value1,value2</code></a></h3>
				<p>Returns <code>value1</code> where value is truthy, otherwise <code>value2</code>.</p>
			</div>

		</article>
	</div>

	<div class="test-block block">
		<h1>Hello</h1>
	</div>

	<script>
	//window.DEBUG = true;
	</script>

	<!-- Polyfills -->

	<script src="fn/polyfills/object.assign.js"></script>
	<script src="fn/polyfills/array.find.js"></script>
	<script src="fn/polyfills/array.from.js"></script>
	<script src="fn/polyfills/array.of.js"></script>
	<script src="fn/polyfills/number.isnan.js"></script>
	<script src="fn/polyfills/math.log10.js"></script>
	<script src="fn/polyfills/symbol.js"></script>
	<script src="fn/polyfills/promise.js"></script>
	<script src="dom/polyfills/requestanimationframe.js"></script>
	<script src="dom/polyfills/customevent.js"></script>
	<script src="polyfills/performance.js"></script>
	<script src="polyfills/console.js"></script>

	<!-- Dependencies -->

	<script src="axios/dist/axios.js"></script>
	<script src="fn/js/fn.js"></script>
	<script src="fn/js/observable.js"></script>

	<!--script title="no-proxy">
		// Browsers lacking Proxy support need the old observation system
		if (!window.Proxy) {
			document.write('<' + 'script src=\"fn/js/observe.js\"><' + '/script>');
			document.write('<' + 'script src=\"fn/js/observable-no-proxy.js\"><' + '/script>');
		}
	</script-->

	<script src="fn/js/stream.js"></script>
	<script src="fn/js/stream.observe.js"></script>
	<script src="dom/js/dom.js"></script>
	<script src="dom/js/dom-activate.js"></script>
	<script src="dom/js/dom.toggleable.js"></script>
	<script src="dom/js/dom.root.js"></script>

	<!-- Sparky -->

	<script src="js/mount.js"></script>
	<script src="js/sparky.js"></script>
	<script src="js/sparky.fn.js"></script>
	<script src="js/sparky.fn.each.js"></script>
	<script src="js/sparky.fn.template.js"></script>
	<script src="js/sparky.fn.load.js"></script>
	<script src="js/sparky.transforms.js"></script>

	<!-- Initialise -->

	<script>
		window.Sparky(dom.body);
		//window.Sparky('#template-demo-2');
		//window.Sparky('#header');

		// Prevent orphans at the end of paragraphs
		dom('p, li')
		.map(Fn.get('childNodes'))
		.map(Fn.last)
		.filter(dom.isTextNode)
		.forEach(function(node) {
			node.textContent = node.textContent.replace(/(\s+)([\S]+)$/, function($0, $1, $2) {
				// Insert no breaking space
				return '\u00A0' + $2;
			});
		});

		// Set attribute prefix
		//Sparky.attributePrefix = 'data-';
	</script>

	<!-- Tests -->

	<script src="fn/test/test.js"></script>
	<script src="test/sparky.test.js"></script>
	<script src="test/sparky.input-test.js"></script>
	<script src="test/sparky.textarea-test.js"></script>
	<script src="test/sparky.select-test.js"></script>
	<!--script src="test/sparky.template-test.js"></script-->
	<script src="test/sparky.fn-test.js"></script>
	<script src="test/sparky.fn.each-test.js"></script>
	<script src="test/sparky.fn.template-test.js"></script>
	<script src="test/sparky.fn.load-test.js"></script>
	<!--script src="test/sparky.transforms-test.js"></script-->

	<!-- Plugins -->

	<script src="plugins/sparky.fn.clock.js"></script>
	<script src="test/sparky.fn.clock-test.js"></script>
	<script src="plugins/sparky.fn.range-handle.js"></script>
	<script src="test/sparky.fn.range-handle.test.js"></script>
</body>
</html>
